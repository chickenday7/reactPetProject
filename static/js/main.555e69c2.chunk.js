(this.webpackJsonptsreact=this.webpackJsonptsreact||[]).push([[0],{12:function(e,t,n){e.exports={itemProfileInfo:"FullInfo_itemProfileInfo__iDiQY",itemContacts:"FullInfo_itemContacts__3A_7-",titleItem:"FullInfo_titleItem__1ecLP",descriptionItem:"FullInfo_descriptionItem__10p8D"}},19:function(e,t,n){e.exports={wrapperDescription:"ProfileDescription_wrapperDescription__23tkb",headerDescription:"ProfileDescription_headerDescription__9vd5d",titleItem:"ProfileDescription_titleItem__V02oQ",descriptionItem:"ProfileDescription_descriptionItem__32k1h",itemProfileInfo:"ProfileDescription_itemProfileInfo__2u4A_",profileName:"ProfileDescription_profileName__1W-Jh",profileEdit:"ProfileDescription_profileEdit__3Q5V5"}},22:function(e,t,n){e.exports={wrapperButton:"SuperButton_wrapperButton__2XkQO",wrapperButtonDis:"SuperButton_wrapperButtonDis__3IoVD",defaultDis:"SuperButton_defaultDis__3l6dG",default:"SuperButton_default__1hS5q",red:"SuperButton_red__1VLuR",redDis:"SuperButton_redDis__1PhjZ"}},25:function(e,t,n){e.exports={wrapperMessage:"MessageItemStyle_wrapperMessage__25A9n",blockMessage:"MessageItemStyle_blockMessage__3Tna4",photo:"MessageItemStyle_photo__16Dg4",text:"MessageItemStyle_text__3R7PN"}},26:function(e,t,n){e.exports={wrapperPhoto:"ProfilePhoto_wrapperPhoto__2CPyT",inputProfilePhoto:"ProfilePhoto_inputProfilePhoto__2SQR9",uploadPhotoText:"ProfilePhoto_uploadPhotoText__2R5Ca",wrapperInputPhoto:"ProfilePhoto_wrapperInputPhoto__2UN70"}},27:function(e,t,n){e.exports={wrapperStatus:"StatusWithoutEdit_wrapperStatus__2YIXj",title:"StatusWithoutEdit_title__3B7yN",statusText:"StatusWithoutEdit_statusText__2shI-"}},28:function(e,t,n){e.exports={formWrapper:"LoginStyle_formWrapper__13AH0",buttonWrapper:"LoginStyle_buttonWrapper__1EWY2",input:"LoginStyle_input__K-U5D",checkBox:"LoginStyle_checkBox__1CtRh"}},34:function(e,t,n){e.exports={headerPhoto:"HeaderStyle_headerPhoto__OLZoS",wrapperRightMenu:"HeaderStyle_wrapperRightMenu__C3c80"}},35:function(e,t,n){e.exports={wrapperUsers:"Users_wrapperUsers__oZrBs",title:"Users_title__1RV_b",users:"Users_users__3zNVW"}},38:function(e,t,n){e.exports={user:"UserItemStyle_user__3M2gP",user__name:"UserItemStyle_user__name__1rOxP"}},39:function(e,t,n){e.exports={wrapperDialog:"DialogStyle_wrapperDialog__3xWtl",title:"DialogStyle_title__nAKJ9"}},40:function(e,t,n){e.exports={wrapperMessages:"MessagesStyle_wrapperMessages__169uu",messages:"MessagesStyle_messages__11fjk"}},41:function(e,t,n){e.exports={wrapperEditProfile:"EditProfuleForm_wrapperEditProfile__n-Kf-",wrapperInputCheckBox:"EditProfuleForm_wrapperInputCheckBox__387FQ"}},53:function(e,t,n){e.exports={wrapperProfile:"ProfileInfo_wrapperProfile__2XwnK"}},56:function(e,t,n){},60:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=(n(56),n(31)),i=n.n(a),o=n(14),c=n(15),u=n(17),l=n(16),d=(n(60),n(2)),p=n(7),j=n(52),f=n.n(j).a.create({withCredentials:!0,headers:{"API-KEY":"8c93655a-bf70-40c8-9c2a-4929b88b2e49"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),b=function(e,t){return f.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},h=function(e){return f.post("follow/".concat(e)).then((function(e){return e.data}))},O=function(e){return f.delete("follow/".concat(e)).then((function(e){return e.data}))},m=function(e){return f.get("profile/".concat(e))},g=function(e){return f.get("profile/status/".concat(e)).then((function(e){return e.data}))},x=function(e){return f.put("profile/status",{status:e})},_=function(e){return f.put("profile",e).then((function(e){return e.data}))},P=function(e){return f.put("/profile/photo",e).then((function(e){return e.data}))},v=function(){return f.get("auth/me").then((function(e){return e.data}))},w=function(e){var t=e.email,n=e.password,r=e.rememberMe,s=e.captcha;return f.post("/auth/login",{email:t,password:n,rememberMe:r,captcha:s}).then((function(e){return e.data}))},N=function(){return f.delete("/auth/login").then((function(e){return e.data}))},I="SET_USER_DATA",y="LOG_OUT",D="IN_PROGRESS",S="RESULT_AUTH",C="TOGGLE_ERROR",k={id:null,email:null,login:null,isAuth:!1,isFetching:!1,authError:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(d.a)(Object(d.a)({},e),t.data);case y:return{id:null,email:null,login:null,isAuth:!1,isFetching:!1,authError:!1};case D:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.stateFetching});case S:return Object(d.a)(Object(d.a)({},e),{},{isAuth:t.resultAuth});case C:return Object(d.a)(Object(d.a)({},e),{},{authError:t.stateError});default:return e}},F=function(e){return{type:D,stateFetching:e}},A=function(){return{type:y}},M=function(e){return{type:S,resultAuth:e}},T=function(e,t,n,r){return{type:I,data:{id:e,email:t,login:n,isAuth:r}}},L=function(e){return{type:C,stateError:e}},U=n(8),R=n.p+"static/media/user.c5d8a3f8.png",B=n(34),W=n.n(B),G=n(0),J=function(e){return Object(G.jsxs)("header",{className:"header",children:[Object(G.jsx)("div",{className:"header__logo",children:"logo"}),Object(G.jsx)("div",{className:"header__profile",children:e.auth.isAuth?Object(G.jsxs)("div",{className:W.a.wrapperRightMenu,children:[e.smallPhoto?Object(G.jsx)("img",{className:W.a.headerPhoto,src:e.smallPhoto}):Object(G.jsx)("img",{className:W.a.headerPhoto,src:R}),e.auth.login,Object(G.jsx)("button",{onClick:function(){e.logout()},children:"logout"})]}):Object(G.jsx)(U.b,{to:"/login",children:"Login"})})]})},z=n(4),V="UPDATE-POST-TEXT",q="ADD-POST",K="ADD-LIKE",Q="SET-PROFILE",Y="SET-STATUS",H="OWNER_CHECK",X={postsData:[{id:1,news:"the weather in St. Petersburg is suitable for studying",likeCount:99},{id:2,news:"tear and sword c:",likeCount:2},{id:3,news:"this is my first project on a react!",likeCount:8}],newPostText:"",profile:null,status:"",isOwner:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(d.a)(Object(d.a)({},e),{},{postsData:[].concat(Object(z.a)(e.postsData),[{id:e.postsData.length+1,news:e.newPostText,likeCount:0}]),newPostText:""});case V:return Object(d.a)(Object(d.a)({},e),{},{newPostText:t.postText});case K:var n=e.postsData.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{likeCount:e.likeCount+1}):e}));return Object(d.a)(Object(d.a)({},e),{},{postsData:n});case Q:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case Y:return Object(d.a)(Object(d.a)({},e),{},{status:t.textStatus});case H:return Object(d.a)(Object(d.a)({},e),{},{isOwner:t.ownerID===t.urlProfileID});default:return e}},$=function(e){return function(t){m(e).then((function(e){t(te(e.data))}))}},ee=function(e){return{type:Y,textStatus:e}},te=function(e){return{type:Q,profile:e}},ne=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.ownerID&&this.props.setProfile(this.props.ownerID)}},{key:"render",value:function(){return console.log(this.props.smallPhoto),console.log(this.props.ownerID),Object(G.jsx)(J,Object(d.a)({},this.props))}}]),n}(s.a.Component),re=Object(p.b)((function(e){var t;return{auth:e.auth,smallPhoto:null===(t=e.profilePage.profile)||void 0===t?void 0:t.photos.small,ownerID:e.auth.id}}),(function(e){return{logout:function(){e((function(e){N().then((function(t){0===t.resultCode&&e(A())}))}))},setProfile:function(t){e($(t))}}}))(ne),se=Object(p.b)((function(e){return{userID:e.auth.id}}))((function(e){var t={textDecoration:"none",color:"orange",fontSize:"22px"};return Object(G.jsx)("nav",{className:"nav",children:Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{className:"nav__elem",children:Object(G.jsx)(U.b,{to:"/profile/".concat(e.userID),style:function(e){return e.isActive?t:void 0},children:"Profile"})}),Object(G.jsx)("li",{className:"nav__elem",children:Object(G.jsx)(U.b,{to:"/messages",style:function(e){return e.isActive?t:void 0},children:"Messages"})}),Object(G.jsx)("li",{className:"nav__elem",children:Object(G.jsx)(U.b,{to:"/friends",style:function(e){return e.isActive?t:void 0},children:"Friends"})}),Object(G.jsx)("li",{className:"nav__elem",children:Object(G.jsx)(U.b,{to:"/news",style:function(e){return e.isActive?t:void 0},children:"News"})}),Object(G.jsx)("li",{className:"nav__elem",children:Object(G.jsx)(U.b,{to:"/music",style:function(e){return e.isActive?t:void 0},children:"Music"})})]})})})),ae=n(3),ie="ADD_MESSAGE",oe={messageData:[{id:1,message:"Blabla"},{id:2,message:"Lala"},{id:3,message:"Bruh..."},{id:4,message:"JINGO"},{id:5,message:"JANGO"}],arrayUsers:[{id:1,name:"Ilgiz"},{id:2,name:"Pavel"},{id:3,name:"Alena"},{id:4,name:"Olga"},{id:5,name:"Alexander"}]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;return t.type===ie?Object(d.a)(Object(d.a)({},e),{},{messageData:[].concat(Object(z.a)(e.messageData),[{id:e.messageData.length+1,message:t.text}])}):e},ue=n(38),le=n.n(ue),de=function(e){return Object(G.jsx)("div",{className:le.a.user,children:Object(G.jsx)("div",{className:le.a.user__name,children:Object(G.jsx)(U.b,{to:"/messages/"+e.id,className:function(e){e.isActive;return""},children:e.name})})},e.id)},pe=n(35),je=n.n(pe),fe=function(e){var t=e.arrayUsers?e.arrayUsers.map((function(e){return Object(G.jsx)(de,{name:e.name,id:e.id},e.id)})):Object(G.jsx)(de,{name:"Test User",id:999});return Object(G.jsxs)("div",{className:je.a.wrapperUsers,children:[Object(G.jsx)("div",{className:je.a.title,children:"USERS"}),Object(G.jsx)("div",{className:je.a.users,children:t})]})},be=n(25),he=n.n(be),Oe=function(e){return Object(G.jsx)("div",{className:he.a.wrapperMessage,children:Object(G.jsxs)("div",{className:he.a.blockMessage,children:[Object(G.jsx)("div",{className:he.a.photo}),Object(G.jsx)("div",{className:he.a.text,children:Object(G.jsx)("span",{children:e.message})})]})},e.id)},me=function(e){return Object(G.jsx)(G.Fragment,{children:e.messageData?e.messageData.map((function(e){return Object(G.jsx)(Oe,{message:e.message,id:e.id},e.id)})):Object(G.jsx)("span",{children:"You have no messages"})})},ge=function(){return Object(G.jsx)(G.Fragment,{})},xe=n(39),_e=n.n(xe),Pe=function(e){return Object(G.jsxs)("div",{className:_e.a.wrapperDialog,children:[Object(G.jsx)("h3",{className:_e.a.title,children:"MESSAGES"}),Object(G.jsx)(me,{messageData:e.messageData}),Object(G.jsx)(ge,{})]})},ve=n(40),we=n.n(ve),Ne=function(e){return Object(G.jsxs)("div",{className:we.a.wrapperMessages,children:[Object(G.jsx)(fe,{arrayUsers:e.messagesPage.arrayUsers}),Object(G.jsx)("div",{className:we.a.messages,children:Object(G.jsx)(Pe,{messageData:e.messagesPage.messageData,addMessage:e.addMessage})})]})},Ie=n(32),ye=["isAuth"];function De(e){return Object(p.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var n=Object(ae.f)(),r=Object(ae.h)(),s=t.isAuth,a=Object(Ie.a)(t,ye);return s?Object(G.jsx)(e,Object(d.a)(Object(d.a)({},a),{},{location:n,router:r})):Object(G.jsx)(ae.a,{to:"/login"})}))}var Se=n(10),Ce=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(G.jsx)(Ne,Object(d.a)({},this.props))}}]),n}(s.a.Component),ke=Object(Se.c)(Object(p.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{addMessage:function(t){e(function(e){return{type:ie,text:e}}(t))}}})),De)(Ce),Ee=function(){return Object(G.jsx)("div",{className:"myFriends__title",children:"FIND FRIENDS"})},Fe=function(){return Object(G.jsx)("div",{className:"myFriends__filter"})},Ae="FOLLOW",Me="UNFOLLOW",Te="SET_USERS",Le="SET_CURRENT_PAGE",Ue="SET_TOTAL_USERS",Re="TOGGLE_PRELOADER",Be="TOGGLE_FOLLOWING",We={users:[],totalUsers:0,pageSize:10,currentPage:1,isPreloader:!1,isFollowing:[]},Ge=function(e){return{type:Be,id:e}},Je=function(e){return{type:Re,isPreloader:e}},ze=function(e){return{type:Ue,totalUsers:e}},Ve=function(e){return{type:Le,newCurrent:e}},qe=function(e){return{type:Ae,id:e}},Ke=function(e){return{type:Me,id:e}},Qe=function(e){return{type:Te,array:e}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):Object(d.a)({},e)}))});case Me:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):Object(d.a)({},e)}))});case Te:return Object(d.a)(Object(d.a)({},e),{},{users:Object(z.a)(t.array)});case Le:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.newCurrent});case Ue:return Object(d.a)(Object(d.a)({},e),{},{totalUsers:t.totalUsers});case Re:return Object(d.a)(Object(d.a)({},e),{},{isPreloader:t.isPreloader});case Be:return Object(d.a)(Object(d.a)({},e),{},{isFollowing:e.isPreloader?[].concat(Object(z.a)(e.isFollowing),[t.id]):Object(z.a)(e.isFollowing.filter((function(e){return e!==t.id})))});default:return e}},He=function(e){var t=e.isFollowing.some((function(t){return t===e.user.id}));return Object(G.jsxs)("div",{className:"blockFriend",children:[Object(G.jsx)(U.b,{to:"/profile/".concat(e.user.id),children:Object(G.jsx)("div",{className:"blockFriend__photo",children:Object(G.jsx)("img",{alt:"userPhoto",src:null!==e.user.photos.small?e.user.photos.small:R})})}),Object(G.jsxs)("div",{className:"blockFriend__description",children:[Object(G.jsxs)("div",{className:"description__name",children:[e.user.name," "]}),Object(G.jsx)("div",{className:"description__stat",children:e.user.status}),Object(G.jsx)("div",{className:"description__country",children:"Country"}),Object(G.jsx)("div",{className:"description__city",children:"City"})]}),Object(G.jsx)("div",{className:"blockFriend__button",children:e.user.followed?Object(G.jsx)("div",{className:"buttonAdd",children:Object(G.jsx)("button",{onClick:function(){e.unfollow(e.user.id)},disabled:t,children:"UNFOLLOW"})}):Object(G.jsx)("div",{className:"buttonAdd",children:Object(G.jsx)("button",{onClick:function(){e.follow(e.user.id)},disabled:t,children:"FOLLOW"})})})]})},Xe=function(){return Object(G.jsx)("div",{className:"preloader",children:Object(G.jsx)("div",{className:"preloader__text",children:"LOADING"})})},Ze=function(e){return Object(G.jsx)(G.Fragment,{children:e.arrayCount.filter((function(t){return t+2>=e.currentPage&&t-2<=e.currentPage||(1===t||t===e.pagesCount)})).map((function(t,n){return e.currentPage>=4&&(t!==e.currentPage-2&&t!==e.currentPage+2||t!==e.pagesCount&&(t=0)),Object(G.jsx)("div",{children:0===t?Object(G.jsx)("span",{children:"...."}):Object(G.jsx)("span",{className:e.currentPage===t?"activePage":"disabledPage",onClick:function(){e.onCurrentPage(t)},children:t},n)},n)}))})},$e=function(e){return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{className:"myFriends__list",children:[e.friendsPage.isPreloader?Object(G.jsx)(Xe,{}):void 0,Object(G.jsx)("div",{className:"pages",children:Object(G.jsx)(Ze,{currentPage:e.currentPage,arrayCount:e.arrayCount,pagesCount:e.pagesCount,onCurrentPage:e.onCurrentPage})}),e.friendsPage.users.map((function(t){return Object(G.jsx)(He,{user:t,follow:e.follow,unfollow:e.unfollow,isFollowing:e.friendsPage.isFollowing,isPreloader:e.friendsPage.isPreloader},t.id)}))]})})},et=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onCurrentPage=function(t){e.props.changePage(t,e.props.friendsPage.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.friendsPage.currentPage,this.props.friendsPage.pageSize)}},{key:"render",value:function(){for(var e=Math.ceil(this.props.friendsPage.totalUsers/this.props.friendsPage.pageSize),t=[],n=1;n<=e;n++)t.push(n);return Object(G.jsx)($e,Object(d.a)(Object(d.a)({arrayCount:t,pagesCount:e,onCurrentPage:this.onCurrentPage},this.props),{},{currentPage:this.props.friendsPage.currentPage}))}}]),n}(s.a.Component),tt=Object(Se.c)(Object(p.b)((function(e){return{friendsPage:e.friendsPage}}),(function(e){return{getUsers:function(t,n){e(function(e,t){return function(n){n(Je(!0)),b(e,t).then((function(e){n(Qe(e.items)),n(ze(e.totalCount)),n(Je(!1))}))}}(t,n))},changePage:function(t,n){e(function(e,t){return function(n){n(Ve(e)),n(Je(!0)),b(e,t).then((function(e){n(Qe(e.items)),n(Je(!1))}))}}(t,n))},follow:function(t){e(function(e){return function(t){t(Je(!0)),t(Ge(e)),h(e).then((function(n){0===n.resultCode&&t(qe(e)),t(Je(!1)),t(Ge(e))}))}}(t))},unfollow:function(t){e(function(e){return function(t){t(Je(!0)),t(Ge(e)),O(e).then((function(n){0===n.resultCode&&t(Ke(e)),t(Je(!1)),t(Ge(e))}))}}(t))}}})))(et),nt=function(){return Object(G.jsxs)("div",{className:"myFriends",children:[Object(G.jsx)(Ee,{}),Object(G.jsx)(tt,{}),Object(G.jsx)(Fe,{})]})},rt=n(26),st=n.n(rt),at=function(e){return Object(G.jsxs)("div",{className:st.a.wrapperPhoto,children:[Object(G.jsx)("img",{alt:"userPhoto",src:null===e.photos.large?R:e.photos.large}),e.isOwner&&Object(G.jsxs)("div",{className:st.a.wrapperInputPhoto,children:[Object(G.jsx)("label",{className:st.a.uploadPhotoText,children:"Upload photo"}),Object(G.jsx)("input",{className:st.a.inputProfilePhoto,title:"Upload profile photo",type:"file",onChange:function(t){e.uploadProfilePhoto(t.currentTarget.files[0],e.ownerId)},name:"profilePhoto"})]})]})},it=n(6),ot=n(27),ct=n.n(ot),ut=function(e){return Object(G.jsxs)("div",{className:ct.a.wrapperStatus,children:[Object(G.jsx)("span",{className:ct.a.title,children:"Status:"}),e.status?Object(G.jsx)("span",{className:ct.a.statusText,onClick:e.activateEditMode,children:e.status}):Object(G.jsx)("span",{className:ct.a.statusText,onClick:e.activateEditMode,style:{color:"gray"},children:"write your status here"})]})},lt=function(e){return Object(G.jsx)("div",{children:Object(G.jsx)("input",{onChange:e.onChangeStatus,value:e.localStatus,autoFocus:!0,onBlur:e.deactivateEditMode,placeholder:e.status?e.status:"Write your status",defaultValue:e.status})})},dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,status:e.props.status?e.props.status:""},e.activateEditMode=function(){e.props.isOwner?e.setState({editMode:!0}):alert("\u0422\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0448\u044c \u043c\u0435\u043d\u044f\u0442\u044c \u0447\u0443\u0436\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onChangeStatus=function(t){e.setState({status:t.currentTarget.value})},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.props.status!==e.status&&this.setState({status:this.props.status?this.props.status:""})}},{key:"render",value:function(){return Object(G.jsx)(G.Fragment,{children:this.state.editMode?Object(G.jsx)(lt,{localStatus:this.state.status,onChangeStatus:this.onChangeStatus,deactivateEditMode:this.deactivateEditMode,status:this.props.status}):Object(G.jsx)(ut,{status:this.props.status,activateEditMode:this.activateEditMode})})}}]),n}(s.a.Component),pt=dt,jt=n(12),ft=n.n(jt),bt=function(e){var t=Object.entries(e.profile.contacts).map((function(e,t){return Object(G.jsxs)("div",{className:ft.a.itemContacts,children:[Object(G.jsxs)("span",{className:ft.a.titleItem,children:[e[0],":"]}),e[1]?Object(G.jsx)("a",{href:e[1],className:ft.a.descriptionItem,children:e[1]}):Object(G.jsx)("span",{className:ft.a.descriptionItem,children:"-"})]},t)}));return Object(G.jsxs)("div",{className:ft.a.wrapperFullInfo,children:[Object(G.jsxs)("div",{className:ft.a.itemProfileInfo,children:[Object(G.jsx)("span",{className:ft.a.titleItem,children:"Full name:"}),Object(G.jsx)("span",{className:ft.a.descriptionItem,children:e.profile.fullName})]}),Object(G.jsxs)("div",{className:ft.a.itemProfileInfo,children:[Object(G.jsx)("span",{className:ft.a.titleItem,children:"Looking for a job:"}),Object(G.jsx)("span",{className:ft.a.descriptionItem,children:e.profile.lookingForAJob?"Yes":"No"})]}),Object(G.jsxs)("div",{className:ft.a.itemProfileInfo,children:[Object(G.jsx)("span",{className:ft.a.titleItem,children:"Contacts:"}),t]})]})},ht=n(19),Ot=n.n(ht),mt=n(33),gt=n(41),xt=n.n(gt),_t=function(e){var t=Object.entries(e.contacts).map((function(t){var n=Object(it.a)(t,2),r=n[0],s=n[1],a=r="contacts."+r,i=r.split("."),o=Object(it.a)(i,2),c=(o[0],o[1]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("label",{children:c}),Object(G.jsx)("input",Object(d.a)({defaultValue:s||""},e.register(a)))]})}));return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("label",{children:"Contacts:"}),t]})},Pt=function(e){var t=Object(mt.a)(),n=t.register,s=t.handleSubmit,a=(t.watch,t.formState.errors,Object(r.useState)(e.profile.lookingForAJob)),i=Object(it.a)(a,2),o=i[0],c=i[1];return Object(G.jsxs)("form",{className:xt.a.wrapperEditProfile,onSubmit:s((function(t){console.log(t),t.userId=e.ownerID,e.editProfile(t,t.userId),e.toggleEditMode()})),children:[Object(G.jsx)("label",{children:"FullName:"}),Object(G.jsx)("input",Object(d.a)({type:"text",defaultValue:e.profile.fullName},n("fullName",{required:!0}))),Object(G.jsx)("label",{children:"About me:"}),Object(G.jsx)("textarea",Object(d.a)({defaultValue:e.profile.aboutMe?e.profile.aboutMe:""},n("aboutMe",{required:!0}))),Object(G.jsxs)("div",{className:xt.a.wrapperInputCheckBox,onClick:function(){c(!o)},children:[Object(G.jsx)("label",{children:"JOB"}),Object(G.jsx)("input",Object(d.a)({type:"checkbox",checked:o},n("lookingForAJob")))]}),Object(G.jsx)("input",Object(d.a)({defaultValue:e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:""},n("lookingForAJobDescription",{required:!0}))),Object(G.jsx)(_t,{contacts:e.profile.contacts,register:n}),Object(G.jsx)("input",{type:"submit"})]})},vt=n(22),wt=n.n(vt),Nt=["red","className","textButton","onClick"],It=function(e){var t=e.red,n=e.className,r=e.textButton,s=e.onClick,a=Object(Ie.a)(e,Nt),i="".concat(n," ").concat(t?a.disabled?wt.a.redDis:wt.a.red:a.disabled?wt.a.wrapperButtonDis:wt.a.wrapperButton," "),o="".concat(a.disabled?wt.a.defaultDis:wt.a.default," ").concat(r);return Object(G.jsx)("div",{className:i,onClick:function(e){s&&s(e)},children:Object(G.jsx)("button",Object(d.a)({className:o},a))})},yt=function(e){var t=Object(r.useState)(!1),n=Object(it.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(!1),o=Object(it.a)(i,2),c=o[0],u=o[1],l=function(){u(!c)},d=e.profile.fullName.split(" ").map((function(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")})).join(" ");return Object(G.jsxs)("div",{className:Ot.a.wrapperDescription,children:[Object(G.jsxs)("div",{className:Ot.a.headerDescription,children:[Object(G.jsx)("span",{className:Ot.a.profileName,children:d}),e.isOwner&&Object(G.jsx)("span",{onClick:l,className:Ot.a.profileEdit,children:"Edit profile"})]}),c?Object(G.jsx)(Pt,{toggleEditMode:l,profile:e.profile,ownerID:e.ownerID,editProfile:e.editProfile}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(pt,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),Object(G.jsxs)("div",{className:Ot.a.itemProfileInfo,children:[Object(G.jsx)("span",{className:Ot.a.titleItem,children:"About me:"}),Object(G.jsx)("span",{className:Ot.a.descriptionItem,children:e.profile.aboutMe?e.profile.aboutMe:"-"})]}),Object(G.jsxs)("div",{className:Ot.a.itemProfileInfo,children:[Object(G.jsx)("span",{className:Ot.a.titleItem,children:"Looking for a job:"}),Object(G.jsx)("span",{className:Ot.a.descriptionItem,children:e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:"-"})]}),s&&Object(G.jsx)(bt,{profile:e.profile}),Object(G.jsx)(It,{onClick:function(){a(!s)},children:"More info"})]})]})},Dt=n(53),St=n.n(Dt),Ct=function(e){return null!==e.profile?Object(G.jsxs)("div",{className:St.a.wrapperProfile,children:[Object(G.jsx)(at,{photos:e.profile.photos,ownerId:e.ownerID,uploadProfilePhoto:e.uploadProfilePhoto,isOwner:e.isOwner}),Object(G.jsx)(yt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,ownerID:e.ownerID,editProfile:e.editProfile})]}):Object(G.jsx)(Xe,{})},kt=function(e){var t=s.a.createRef();return Object(G.jsxs)("div",{className:"addPosts",children:[Object(G.jsx)("div",{className:"addPosts__input",children:Object(G.jsx)("textarea",{ref:t,placeholder:"Tell me your news...",onChange:function(){var n=t.current.value;e.postChange(n)},value:e.newPostText})}),Object(G.jsx)("div",{className:"addPosts__button",children:Object(G.jsx)("div",{onClick:function(){""===e.newPostText.trim()||" "===e.newPostText.trim()?alert("\u041f\u0443\u0441\u0442\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"):e.addPost()},className:"button",children:Object(G.jsx)("div",{className:"button__text",children:"Send"})})})]})},Et=function(e){var t=s.a.createRef();return Object(G.jsx)("div",{className:"posts__item",children:Object(G.jsxs)("div",{className:"patternPosts",children:[Object(G.jsx)("img",{alt:"userPhoto",className:"patternPosts__photo",src:R}),Object(G.jsx)("div",{className:"patternPosts__text",children:e.news}),Object(G.jsxs)("div",{ref:t,id:e.id,onClick:function(){var n=Number(t.currentTarget.id);e.addLike(n)},className:"patternPosts__like",children:["like: ",e.like]})]})})},Ft=function(e){var t=e.postsData.map((function(t){return Object(G.jsx)(Et,{news:t.news,like:t.likeCount,id:t.id,addLike:e.addLike},t.id)}));return Object(G.jsx)("div",{className:"addedPosts",children:t})},At=function(){return Object(G.jsx)("div",{className:"posts__title",children:"My posts"})},Mt=function(e){return Object(G.jsxs)("div",{className:"posts",children:[Object(G.jsx)(At,{}),Object(G.jsx)(kt,{newPostText:e.profilePage.newPostText,postChange:e.postChange,addPost:e.addPost}),Object(G.jsx)(Ft,{postsData:e.profilePage.postsData,addLike:e.addLike})]})},Tt=Object(p.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addLike:function(t){e({type:K,id:t})},addPost:function(){e({type:q})},postChange:function(t){e(function(e){return{type:V,postText:e}}(t))}}}))(Mt),Lt=function(e){return Object(G.jsxs)("div",{className:"content",children:[Object(G.jsx)(Ct,Object(d.a)({},e)),Object(G.jsx)(Tt,{})]})},Ut=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={userId:e.props.location},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){"undefined"===this.props.router.userId?this.props.getProfile(2):this.props.getProfile(+this.props.router.userId),this.props.setStatus(+this.props.router.userId),this.props.ownerCheckAC(+this.props.router.userId,this.props.ownerID)}},{key:"componentDidUpdate",value:function(e,t,n){e.location!==this.props.location&&(this.props.getProfile(+this.props.router.userId),this.props.setStatus(+this.props.router.userId),this.props.ownerCheckAC(+this.props.router.userId,this.props.ownerID))}},{key:"render",value:function(){return Object(G.jsx)(Lt,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:this.props.isOwner,ownerID:this.props.ownerID,editProfile:this.props.editProfile,uploadProfilePhoto:this.props.uploadProfilePhoto})}}]),n}(s.a.Component),Rt=Object(Se.c)(Object(p.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isOwner:e.profilePage.isOwner,ownerID:e.auth.id}}),(function(e){return{getProfile:function(t){e($(t))},setStatus:function(t){var n;e((n=t,function(e){g(n).then((function(t){e(ee(t))}))}))},updateStatus:function(t){e(function(e){return function(t){x(e).then((function(n){0===n.data.resultCode&&t(ee(e))}))}}(t))},ownerCheckAC:function(t,n){e(function(e,t){return{type:H,urlProfileID:e,ownerID:t}}(t,n))},editProfile:function(t,n){e(function(e,t){return function(n){_(e).then((function(e){0===e.resultCode&&n($(t))}))}}(t,n))},uploadProfilePhoto:function(t,n){e(function(e,t){return function(n){var r=new FormData;r.append("image",e),P(r).then((function(e){null!==e.data.photos.large&&n($(t))}))}}(t,n))}}})),De)(Ut),Bt=n(28),Wt=n.n(Bt),Gt=function(e){var t=Object(mt.a)(),n=t.register,r=t.handleSubmit,s=t.formState.errors,a=function(){e.toggleError(!1)};return e.isAuth?Object(G.jsx)(ae.a,{to:"/profile/".concat(e.id)}):Object(G.jsx)(G.Fragment,{children:e.isFetching?Object(G.jsx)(Xe,{}):Object(G.jsxs)("form",{className:Wt.a.formWrapper,onSubmit:r((function(t){e.login(t)})),children:[Object(G.jsx)("label",{children:"Login"}),Object(G.jsx)("input",Object(d.a)({onClick:a,placeholder:"Login",className:Wt.a.input,defaultValue:""},n("email",{required:!0}))),s.email&&Object(G.jsx)("span",{children:"This field is required"}),Object(G.jsx)("label",{children:"Password"}),Object(G.jsx)("input",Object(d.a)({onClick:a,className:Wt.a.input,placeholder:"Password",type:"password"},n("password",{required:!0}))),s.password&&Object(G.jsx)("span",{children:"This field is required"}),Object(G.jsxs)("div",{className:Wt.a.checkBox,children:[Object(G.jsx)("input",Object(d.a)({type:"checkbox"},n("rememberMe"))),Object(G.jsx)("span",{children:"remember me"})]}),e.authError&&Object(G.jsx)("span",{style:{color:"red"},children:"Email or password is wrong"}),Object(G.jsx)("input",{type:"submit"})]})})},Jt=function(e){return Object(G.jsxs)("div",{children:[Object(G.jsx)("h1",{children:" LOG IN PAGE"}),Object(G.jsx)(Gt,{login:e.login,isFetching:e.isFetching,isAuth:e.isAuth,id:e.id,toggleError:e.toggleError,authError:e.authError})]})},zt=Object(Se.c)(Object(p.b)((function(e){return{authError:e.auth.authError,id:e.auth.id,isFetching:e.auth.isFetching,isAuth:e.auth.isAuth}}),(function(e){return{login:function(t){e(function(e){return function(t){t(F(!0)),w(e).then((function(e){0===e.resultCode?v().then((function(e){var n=e.data,r=n.id,s=n.email,a=n.login;t(T(r,s,a,!0)),t(M(!0)),t(F(!1))})):(t(L(!0)),t(F(!1)))}))}}(t))},toggleError:function(t){e(L(t))}}})))((function(e){return Object(G.jsx)(Jt,Object(d.a)({},e))})),Vt="SET_INITIALIZED",qt={isInitialized:!1},Kt=function(){return function(e){var t=e((function(e){return v().then((function(t){var n=t.data,r=n.id,s=n.email,a=n.login;e(T(r,s,a,!0))}))}));Promise.all([t]).then((function(){e({type:Vt})}))}},Qt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.checkInitialize()}},{key:"render",value:function(){return Object(G.jsx)(G.Fragment,{children:this.props.isInitialized?Object(G.jsxs)("div",{className:"app-wrapper",children:[Object(G.jsx)(re,{}),Object(G.jsx)(se,{}),Object(G.jsx)("div",{className:"app-wrapper__content",children:Object(G.jsxs)(ae.d,{children:[Object(G.jsx)(ae.b,{path:"/",element:Object(G.jsx)(nt,{})}),Object(G.jsx)(ae.b,{path:"/profile/:userId",element:Object(G.jsx)(Rt,{})}),Object(G.jsx)(ae.b,{path:"/messages/*",element:Object(G.jsx)(ke,{})}),Object(G.jsx)(ae.b,{path:"/friends/",element:Object(G.jsx)(nt,{})}),Object(G.jsx)(ae.b,{path:"/login/*",element:Object(G.jsx)(zt,{})})]})}),Object(G.jsx)("div",{className:"footer"})]}):Object(G.jsx)(Xe,{})})}}]),n}(s.a.Component),Yt=Object(Se.c)(Object(p.b)((function(e){return{isInitialized:e.app.isInitialized,isAuth:e.auth.isAuth}}),(function(e){return{checkInitialize:function(){e(Kt())}}})))(Qt),Ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},Xt=n(54),Zt=Object(Se.b)({profilePage:Z,messagesPage:ce,friendsPage:Ye,auth:E,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;return t.type===Vt?Object(d.a)(Object(d.a)({},e),{},{isInitialized:!0}):e}}),$t=Object(Se.d)(Zt,Object(Se.a)(Xt.a));i.a.render(Object(G.jsx)(U.a,{children:Object(G.jsx)(p.a,{store:$t,children:Object(G.jsx)(Yt,{})})}),document.getElementById("root")),Ht()}},[[84,1,2]]]);
//# sourceMappingURL=main.555e69c2.chunk.js.map