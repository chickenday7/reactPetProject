(this.webpackJsonptsreact=this.webpackJsonptsreact||[]).push([[0],{13:function(e,t,n){e.exports={itemProfileInfo:"FullInfo_itemProfileInfo__iDiQY",itemContacts:"FullInfo_itemContacts__3A_7-",titleItem:"FullInfo_titleItem__1ecLP",descriptionItem:"FullInfo_descriptionItem__10p8D"}},21:function(e,t,n){e.exports={wrapperDescription:"ProfileDescription_wrapperDescription__23tkb",headerDescription:"ProfileDescription_headerDescription__9vd5d",titleItem:"ProfileDescription_titleItem__V02oQ",descriptionItem:"ProfileDescription_descriptionItem__32k1h",profileName:"ProfileDescription_profileName__1W-Jh",profileEdit:"ProfileDescription_profileEdit__3Q5V5"}},22:function(e,t,n){e.exports={wrapperButton:"SuperButton_wrapperButton__2XkQO",wrapperButtonDis:"SuperButton_wrapperButtonDis__3IoVD",defaultDis:"SuperButton_defaultDis__3l6dG",default:"SuperButton_default__1hS5q",red:"SuperButton_red__1VLuR",redDis:"SuperButton_redDis__1PhjZ"}},25:function(e,t,n){e.exports={wrapperMessage:"MessageItemStyle_wrapperMessage__25A9n",blockMessage:"MessageItemStyle_blockMessage__3Tna4",photo:"MessageItemStyle_photo__16Dg4",text:"MessageItemStyle_text__3R7PN"}},26:function(e,t,n){e.exports={wrapperStatus:"StatusWithoutEdit_wrapperStatus__2YIXj",title:"StatusWithoutEdit_title__3B7yN",statusText:"StatusWithoutEdit_statusText__2shI-"}},27:function(e,t,n){e.exports={formWrapper:"LoginStyle_formWrapper__13AH0",buttonWrapper:"LoginStyle_buttonWrapper__1EWY2",input:"LoginStyle_input__K-U5D",checkBox:"LoginStyle_checkBox__1CtRh"}},33:function(e,t,n){e.exports={wrapperUsers:"Users_wrapperUsers__oZrBs",title:"Users_title__1RV_b",users:"Users_users__3zNVW"}},34:function(e,t,n){e.exports={wrapperPhoto:"ProfilePhoto_wrapperPhoto__2CPyT",inputProfilePhoto:"ProfilePhoto_inputProfilePhoto__2SQR9",wrapperInputPhoto:"ProfilePhoto_wrapperInputPhoto__2UN70"}},37:function(e,t,n){e.exports={user:"UserItemStyle_user__3M2gP",user__name:"UserItemStyle_user__name__1rOxP"}},38:function(e,t,n){e.exports={wrapperDialog:"DialogStyle_wrapperDialog__3xWtl",title:"DialogStyle_title__nAKJ9"}},39:function(e,t,n){e.exports={wrapperMessages:"MessagesStyle_wrapperMessages__169uu",messages:"MessagesStyle_messages__11fjk"}},51:function(e,t,n){e.exports={wrapperEditProfile:"EditProfuleForm_wrapperEditProfile__n-Kf-"}},52:function(e,t,n){e.exports={wrapperProfile:"ProfileInfo_wrapperProfile__2XwnK"}},55:function(e,t,n){},59:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=(n(55),n(30)),i=n.n(a),c=n(14),o=n(15),u=n(17),l=n(16),d=(n(59),n(2)),j=n(7),p=n(50),f=n.n(p).a.create({headers:{"API-KEY":"8c93655a-bf70-40c8-9c2a-4929b88b2e49"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),b=function(e,t){return f.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},h=function(e){return f.post("follow/".concat(e)).then((function(e){return e.data}))},O=function(e){return f.delete("follow/".concat(e)).then((function(e){return e.data}))},m=function(e){return f.get("profile/".concat(e))},g=function(e){return f.get("profile/status/".concat(e)).then((function(e){return e.data}))},x=function(e){return f.put("profile/status",{status:e})},_=function(e){return f.put("profile",e).then((function(e){return e.data}))},P=function(e){return f.put("/profile/photo",e).then((function(e){return e.data}))},v=function(){return f.get("auth/me").then((function(e){return e.data}))},w=function(e){var t=e.email,n=e.password,r=e.rememberMe,s=e.captcha;return f.post("/auth/login",{email:t,password:n,rememberMe:r,captcha:s}).then((function(e){return e.data}))},N=function(){return f.delete("/auth/login").then((function(e){return e.data}))},y="SET_USER_DATA",S="LOG_OUT",I="IN_PROGRESS",D="RESULT_AUTH",C="TOGGLE_ERROR",k={id:null,email:null,login:null,isAuth:!1,isFetching:!1,authError:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(d.a)(Object(d.a)({},e),t.data);case S:return{id:null,email:null,login:null,isAuth:!1,isFetching:!1,authError:!1};case I:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.stateFetching});case D:return Object(d.a)(Object(d.a)({},e),{},{isAuth:t.resultAuth});case C:return Object(d.a)(Object(d.a)({},e),{},{authError:t.stateError});default:return e}},A=function(e){return{type:I,stateFetching:e}},F=function(){return{type:S}},M=function(e){return{type:D,resultAuth:e}},T=function(e,t,n,r){return{type:y,data:{id:e,email:t,login:n,isAuth:r}}},L=function(e){return{type:C,stateError:e}},U=n(8),B=n(0),R=function(e){return Object(B.jsxs)("header",{className:"header",children:[Object(B.jsx)("div",{className:"header__logo",children:"logo"}),Object(B.jsx)("div",{className:"header__profile",children:e.auth.isAuth?Object(B.jsxs)("div",{children:[e.auth.login,Object(B.jsx)("button",{onClick:function(){e.logout()},children:"logout"})]}):Object(B.jsx)(U.b,{to:"/login",children:"Login"})})]})},W=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(B.jsx)(R,Object(d.a)({},this.props))}}]),n}(s.a.Component),G=Object(j.b)((function(e){return{auth:e.auth}}),(function(e){return{logout:function(){e((function(e){N().then((function(t){0===t.resultCode&&e(F())}))}))}}}))(W),z=Object(j.b)((function(e){return{userID:e.auth.id}}))((function(e){var t={textDecoration:"none",color:"orange",fontSize:"22px"};return Object(B.jsx)("nav",{className:"nav",children:Object(B.jsxs)("ul",{children:[Object(B.jsx)("li",{className:"nav__elem",children:Object(B.jsx)(U.b,{to:"/profile/".concat(e.userID),style:function(e){return e.isActive?t:void 0},children:"Profile"})}),Object(B.jsx)("li",{className:"nav__elem",children:Object(B.jsx)(U.b,{to:"/messages",style:function(e){return e.isActive?t:void 0},children:"Messages"})}),Object(B.jsx)("li",{className:"nav__elem",children:Object(B.jsx)(U.b,{to:"/friends",style:function(e){return e.isActive?t:void 0},children:"Friends"})}),Object(B.jsx)("li",{className:"nav__elem",children:Object(B.jsx)(U.b,{to:"/news",style:function(e){return e.isActive?t:void 0},children:"News"})}),Object(B.jsx)("li",{className:"nav__elem",children:Object(B.jsx)(U.b,{to:"/music",style:function(e){return e.isActive?t:void 0},children:"Music"})})]})})})),J=n(3),V=n(4),q="ADD_MESSAGE",K={messageData:[{id:1,message:"Blabla"},{id:2,message:"Lala"},{id:3,message:"Bruh..."},{id:4,message:"JINGO"},{id:5,message:"JANGO"}],arrayUsers:[{id:1,name:"Ilgiz"},{id:2,name:"Pavel"},{id:3,name:"Alena"},{id:4,name:"Olga"},{id:5,name:"Alexander"}]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;return t.type===q?Object(d.a)(Object(d.a)({},e),{},{messageData:[].concat(Object(V.a)(e.messageData),[{id:e.messageData.length+1,message:t.text}])}):e},Q=n(37),X=n.n(Q),H=function(e){return Object(B.jsx)("div",{className:X.a.user,children:Object(B.jsx)("div",{className:X.a.user__name,children:Object(B.jsx)(U.b,{to:"/messages/"+e.id,className:function(e){e.isActive;return""},children:e.name})})},e.id)},Z=n(33),$=n.n(Z),ee=function(e){var t=e.arrayUsers?e.arrayUsers.map((function(e){return Object(B.jsx)(H,{name:e.name,id:e.id},e.id)})):Object(B.jsx)(H,{name:"Test User",id:999});return Object(B.jsxs)("div",{className:$.a.wrapperUsers,children:[Object(B.jsx)("div",{className:$.a.title,children:"USERS"}),Object(B.jsx)("div",{className:$.a.users,children:t})]})},te=n(25),ne=n.n(te),re=function(e){return Object(B.jsx)("div",{className:ne.a.wrapperMessage,children:Object(B.jsxs)("div",{className:ne.a.blockMessage,children:[Object(B.jsx)("div",{className:ne.a.photo}),Object(B.jsx)("div",{className:ne.a.text,children:Object(B.jsx)("span",{children:e.message})})]})},e.id)},se=function(e){return Object(B.jsx)(B.Fragment,{children:e.messageData?e.messageData.map((function(e){return Object(B.jsx)(re,{message:e.message,id:e.id},e.id)})):Object(B.jsx)("span",{children:"You have no messages"})})},ae=function(){return Object(B.jsx)(B.Fragment,{})},ie=n(38),ce=n.n(ie),oe=function(e){return Object(B.jsxs)("div",{className:ce.a.wrapperDialog,children:[Object(B.jsx)("h3",{className:ce.a.title,children:"MESSAGES"}),Object(B.jsx)(se,{messageData:e.messageData}),Object(B.jsx)(ae,{})]})},ue=n(39),le=n.n(ue),de=function(e){return Object(B.jsxs)("div",{className:le.a.wrapperMessages,children:[Object(B.jsx)(ee,{arrayUsers:e.messagesPage.arrayUsers}),Object(B.jsx)("div",{className:le.a.messages,children:Object(B.jsx)(oe,{messageData:e.messagesPage.messageData,addMessage:e.addMessage})})]})},je=n(31),pe=["isAuth"];function fe(e){return Object(j.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var n=Object(J.f)(),r=Object(J.h)(),s=t.isAuth,a=Object(je.a)(t,pe);return s?Object(B.jsx)(e,Object(d.a)(Object(d.a)({},a),{},{location:n,router:r})):Object(B.jsx)(J.a,{to:"/login"})}))}var be=n(10),he=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(B.jsx)(de,Object(d.a)({},this.props))}}]),n}(s.a.Component),Oe=Object(be.c)(Object(j.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{addMessage:function(t){e(function(e){return{type:q,text:e}}(t))}}})),fe)(he),me=function(){return Object(B.jsx)("div",{className:"myFriends__title",children:"FIND FRIENDS"})},ge=function(){return Object(B.jsx)("div",{className:"myFriends__filter"})},xe="FOLLOW",_e="UNFOLLOW",Pe="SET_USERS",ve="SET_CURRENT_PAGE",we="SET_TOTAL_USERS",Ne="TOGGLE_PRELOADER",ye="TOGGLE_FOLLOWING",Se={users:[],totalUsers:0,pageSize:20,currentPage:1,isPreloader:!1,isFollowing:[]},Ie=function(e){return{type:ye,id:e}},De=function(e){return{type:Ne,isPreloader:e}},Ce=function(e){return{type:we,totalUsers:e}},ke=function(e){return{type:ve,newCurrent:e}},Ee=function(e){return{type:xe,id:e}},Ae=function(e){return{type:_e,id:e}},Fe=function(e){return{type:Pe,array:e}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):Object(d.a)({},e)}))});case _e:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):Object(d.a)({},e)}))});case Pe:return Object(d.a)(Object(d.a)({},e),{},{users:Object(V.a)(t.array)});case ve:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.newCurrent});case we:return Object(d.a)(Object(d.a)({},e),{},{totalUsers:t.totalUsers});case Ne:return Object(d.a)(Object(d.a)({},e),{},{isPreloader:t.isPreloader});case ye:return Object(d.a)(Object(d.a)({},e),{},{isFollowing:e.isPreloader?[].concat(Object(V.a)(e.isFollowing),[t.id]):Object(V.a)(e.isFollowing.filter((function(e){return e!==t.id})))});default:return e}},Te=n.p+"static/media/user.c5d8a3f8.png",Le=function(e){var t=e.isFollowing.some((function(t){return t===e.user.id}));return Object(B.jsxs)("div",{className:"blockFriend",children:[Object(B.jsx)(U.b,{to:"/profile/".concat(e.user.id),children:Object(B.jsx)("div",{className:"blockFriend__photo",children:Object(B.jsx)("img",{alt:"userPhoto",src:null!==e.user.photos.small?e.user.photos.small:Te})})}),Object(B.jsxs)("div",{className:"blockFriend__description",children:[Object(B.jsxs)("div",{className:"description__name",children:[e.user.name," "]}),Object(B.jsx)("div",{className:"description__stat",children:e.user.status}),Object(B.jsx)("div",{className:"description__country",children:"Country"}),Object(B.jsx)("div",{className:"description__city",children:"City"})]}),Object(B.jsx)("div",{className:"blockFriend__button",children:e.user.followed?Object(B.jsx)("div",{className:"buttonAdd",children:Object(B.jsx)("button",{onClick:function(){e.unfollow(e.user.id)},disabled:t,children:"UNFOLLOW"})}):Object(B.jsx)("div",{className:"buttonAdd",children:Object(B.jsx)("button",{onClick:function(){e.follow(e.user.id)},disabled:t,children:"FOLLOW"})})})]})},Ue=function(){return Object(B.jsx)("div",{className:"preloader",children:Object(B.jsx)("div",{className:"preloader__text",children:"LOADING"})})},Be=function(e){return Object(B.jsx)(B.Fragment,{children:e.arrayCount.filter((function(t){return t+2>=e.currentPage&&t-2<=e.currentPage||(1===t||t===e.pagesCount)})).map((function(t,n){return e.currentPage>=4&&(t!==e.currentPage-2&&t!==e.currentPage+2||t!==e.pagesCount&&(t=0)),Object(B.jsx)("div",{children:0===t?Object(B.jsx)("span",{children:"...."}):Object(B.jsx)("span",{className:e.currentPage===t?"activePage":"disabledPage",onClick:function(){e.onCurrentPage(t)},children:t},n)},n)}))})},Re=function(e){return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)("div",{className:"myFriends__list",children:[e.friendsPage.isPreloader?Object(B.jsx)(Ue,{}):void 0,Object(B.jsx)("div",{className:"pages",children:Object(B.jsx)(Be,{currentPage:e.currentPage,arrayCount:e.arrayCount,pagesCount:e.pagesCount,onCurrentPage:e.onCurrentPage})}),e.friendsPage.users.map((function(t){return Object(B.jsx)(Le,{user:t,follow:e.follow,unfollow:e.unfollow,isFollowing:e.friendsPage.isFollowing,isPreloader:e.friendsPage.isPreloader},t.id)}))]})})},We=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onCurrentPage=function(t){e.props.changePage(t,e.props.friendsPage.pageSize)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.friendsPage.currentPage,this.props.friendsPage.pageSize)}},{key:"render",value:function(){for(var e=Math.ceil(this.props.friendsPage.totalUsers/this.props.friendsPage.pageSize),t=[],n=1;n<=e;n++)t.push(n);return Object(B.jsx)(Re,Object(d.a)(Object(d.a)({arrayCount:t,pagesCount:e,onCurrentPage:this.onCurrentPage},this.props),{},{currentPage:this.props.friendsPage.currentPage}))}}]),n}(s.a.Component),Ge=Object(be.c)(Object(j.b)((function(e){return{friendsPage:e.friendsPage}}),(function(e){return{getUsers:function(t,n){e(function(e,t){return function(n){n(De(!0)),b(e,t).then((function(e){n(Fe(e.items)),n(Ce(e.totalCount)),n(De(!1))}))}}(t,n))},changePage:function(t,n){e(function(e,t){return function(n){n(ke(e)),n(De(!0)),b(e,t).then((function(e){n(Fe(e.items)),n(De(!1))}))}}(t,n))},follow:function(t){e(function(e){return function(t){t(De(!0)),t(Ie(e)),h(e).then((function(n){0===n.resultCode&&t(Ee(e)),t(De(!1)),t(Ie(e))}))}}(t))},unfollow:function(t){e(function(e){return function(t){t(De(!0)),t(Ie(e)),O(e).then((function(n){0===n.resultCode&&t(Ae(e)),t(De(!1)),t(Ie(e))}))}}(t))}}})))(We),ze=function(){return Object(B.jsxs)("div",{className:"myFriends",children:[Object(B.jsx)(me,{}),Object(B.jsx)(Ge,{}),Object(B.jsx)(ge,{})]})},Je=n(34),Ve=n.n(Je),qe=function(e){return Object(B.jsxs)("div",{className:Ve.a.wrapperPhoto,children:[Object(B.jsx)("img",{alt:"userPhoto",src:null===e.photos.large?Te:e.photos.large}),Object(B.jsxs)("div",{className:Ve.a.wrapperInputPhoto,children:[Object(B.jsx)("label",{children:"Upload photo"}),Object(B.jsx)("input",{className:Ve.a.inputProfilePhoto,title:"Upload profile photo",type:"file",onChange:function(t){e.uploadProfilePhoto(t.currentTarget.files[0],e.ownerId)},name:"profilePhoto"})]})]})},Ke=n(6),Ye=n(26),Qe=n.n(Ye),Xe=function(e){return Object(B.jsxs)("div",{className:Qe.a.wrapperStatus,children:[Object(B.jsx)("span",{className:Qe.a.title,children:"Status:"}),e.status?Object(B.jsx)("span",{className:Qe.a.statusText,onClick:e.activateEditMode,children:e.status}):Object(B.jsx)("span",{className:Qe.a.statusText,onClick:e.activateEditMode,style:{color:"gray"},children:"write your status here"})]})},He=function(e){return Object(B.jsx)("div",{children:Object(B.jsx)("input",{onChange:e.onChangeStatus,value:e.localStatus,autoFocus:!0,onBlur:e.deactivateEditMode,placeholder:e.status?e.status:"Write your status",defaultValue:e.status})})},Ze=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,status:e.props.status?e.props.status:""},e.activateEditMode=function(){e.props.isOwner?e.setState({editMode:!0}):alert("\u0422\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0448\u044c \u043c\u0435\u043d\u044f\u0442\u044c \u0447\u0443\u0436\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onChangeStatus=function(t){e.setState({status:t.currentTarget.value})},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.props.status!==e.status&&this.setState({status:this.props.status?this.props.status:""})}},{key:"render",value:function(){return Object(B.jsx)(B.Fragment,{children:this.state.editMode?Object(B.jsx)(He,{localStatus:this.state.status,onChangeStatus:this.onChangeStatus,deactivateEditMode:this.deactivateEditMode,status:this.props.status}):Object(B.jsx)(Xe,{status:this.props.status,activateEditMode:this.activateEditMode})})}}]),n}(s.a.Component),$e=Ze,et=n(13),tt=n.n(et),nt=function(e){var t=Object.entries(e.profile.contacts).map((function(e,t){return Object(B.jsxs)("div",{className:tt.a.itemContacts,children:[Object(B.jsxs)("span",{className:tt.a.titleItem,children:[e[0],":"]}),Object(B.jsx)("a",{href:e[1]?e[1]:"#",className:tt.a.descriptionItem,children:e[1]?e[1]:"-"})]},t)}));return Object(B.jsxs)("div",{className:tt.a.wrapperFullInfo,children:[Object(B.jsxs)("div",{className:tt.a.itemProfileInfo,children:[Object(B.jsx)("span",{className:tt.a.titleItem,children:"Full name:"}),Object(B.jsx)("span",{className:tt.a.descriptionItem,children:e.profile.fullName})]}),Object(B.jsxs)("div",{className:tt.a.itemProfileInfo,children:[Object(B.jsx)("span",{className:tt.a.titleItem,children:"Looking for a job:"}),Object(B.jsx)("span",{className:tt.a.descriptionItem,children:e.profile.lookingForAJob?"Yes":"No"})]}),Object(B.jsxs)("div",{className:tt.a.itemProfileInfo,children:[Object(B.jsx)("span",{className:tt.a.titleItem,children:"Contacts:"}),t]})]})},rt=n(21),st=n.n(rt),at=n(32),it=n(51),ct=n.n(it),ot=function(e){var t=Object.entries(e.contacts).map((function(t){var n=Object(Ke.a)(t,2),r=n[0],s=n[1],a=r="contacts."+r,i=r.split("."),c=Object(Ke.a)(i,2),o=(c[0],c[1]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("label",{children:o}),Object(B.jsx)("input",Object(d.a)({defaultValue:s||""},e.register(a)))]})}));return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("label",{children:"Contacts:"}),t]})},ut=function(e){var t=Object(at.a)(),n=t.register,s=t.handleSubmit,a=(t.watch,t.formState.errors,Object(r.useState)(e.profile.lookingForAJob)),i=Object(Ke.a)(a,2),c=i[0],o=i[1];return Object(B.jsxs)("form",{className:ct.a.wrapperEditProfile,onSubmit:s((function(t){console.log(t),t.userId=e.ownerID,e.editProfile(t,t.userId),e.toggleEditMode()})),children:[Object(B.jsx)("label",{children:"FullName:"}),Object(B.jsx)("input",Object(d.a)({type:"text",defaultValue:e.profile.fullName},n("fullName",{required:!0}))),Object(B.jsx)("label",{children:"About me:"}),Object(B.jsx)("textarea",Object(d.a)({defaultValue:e.profile.aboutMe?e.profile.aboutMe:""},n("aboutMe",{required:!0}))),Object(B.jsx)("label",{children:"JOB"}),Object(B.jsx)("div",{onClick:function(){o(!c)},children:Object(B.jsx)("input",Object(d.a)({type:"checkbox",checked:c},n("lookingForAJob")))}),Object(B.jsx)("input",Object(d.a)({defaultValue:e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:""},n("lookingForAJobDescription",{required:!0}))),Object(B.jsx)(ot,{contacts:e.profile.contacts,register:n}),Object(B.jsx)("input",{type:"submit"})]})},lt=n(22),dt=n.n(lt),jt=["red","className","textButton","onClick"],pt=function(e){var t=e.red,n=e.className,r=e.textButton,s=e.onClick,a=Object(je.a)(e,jt),i="".concat(n," ").concat(t?a.disabled?dt.a.redDis:dt.a.red:a.disabled?dt.a.wrapperButtonDis:dt.a.wrapperButton," "),c="".concat(a.disabled?dt.a.defaultDis:dt.a.default," ").concat(r);return Object(B.jsx)("div",{className:i,onClick:function(e){s&&s(e)},children:Object(B.jsx)("button",Object(d.a)({className:c},a))})},ft=function(e){var t=Object(r.useState)(!1),n=Object(Ke.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(!1),c=Object(Ke.a)(i,2),o=c[0],u=c[1],l=function(){u(!o)},d=e.profile.fullName.split(" ").map((function(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")})).join(" ");return Object(B.jsxs)("div",{className:st.a.wrapperDescription,children:[Object(B.jsxs)("div",{className:st.a.headerDescription,children:[Object(B.jsx)("span",{className:st.a.profileName,children:d}),e.isOwner&&Object(B.jsx)("span",{onClick:l,className:st.a.profileEdit,children:"Edit profile"})]}),o?Object(B.jsx)(ut,{toggleEditMode:l,profile:e.profile,ownerID:e.ownerID,editProfile:e.editProfile}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)($e,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),Object(B.jsxs)("div",{className:st.a.itemProfileInfo,children:[Object(B.jsx)("span",{className:st.a.titleItem,children:"About me:"}),Object(B.jsx)("span",{className:st.a.descriptionItem,children:e.profile.aboutMe?e.profile.aboutMe:"-"})]}),s&&Object(B.jsx)(nt,{profile:e.profile}),Object(B.jsx)(pt,{onClick:function(){a(!s)},children:"More info"})]})]})},bt=n(52),ht=n.n(bt),Ot=function(e){return console.log(typeof Object(r.useState)()),null!==e.profile?Object(B.jsxs)("div",{className:ht.a.wrapperProfile,children:[Object(B.jsx)(qe,{photos:e.profile.photos,ownerId:e.ownerID,uploadProfilePhoto:e.uploadProfilePhoto}),Object(B.jsx)(ft,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,ownerID:e.ownerID,editProfile:e.editProfile})]}):Object(B.jsx)(Ue,{})},mt="UPDATE-POST-TEXT",gt="ADD-POST",xt="ADD-LIKE",_t="SET-PROFILE",Pt="SET-STATUS",vt="OWNER_CHECK",wt={postsData:[{id:1,news:"the weather in St. Petersburg is suitable for studying",likeCount:99},{id:2,news:"tear and sword c:",likeCount:2},{id:3,news:"this is my first project on a react!",likeCount:8}],newPostText:"",profile:null,status:"",isOwner:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return Object(d.a)(Object(d.a)({},e),{},{postsData:[].concat(Object(V.a)(e.postsData),[{id:e.postsData.length+1,news:e.newPostText,likeCount:0}]),newPostText:""});case mt:return Object(d.a)(Object(d.a)({},e),{},{newPostText:t.postText});case xt:var n=e.postsData.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{likeCount:e.likeCount+1}):e}));return Object(d.a)(Object(d.a)({},e),{},{postsData:n});case _t:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case Pt:return Object(d.a)(Object(d.a)({},e),{},{status:t.textStatus});case vt:return Object(d.a)(Object(d.a)({},e),{},{isOwner:t.ownerID===t.urlProfileID});default:return e}},yt=function(e){return function(t){m(e).then((function(e){t(It(e.data))}))}},St=function(e){return{type:Pt,textStatus:e}},It=function(e){return{type:_t,profile:e}},Dt=function(e){var t=s.a.createRef();return Object(B.jsxs)("div",{className:"addPosts",children:[Object(B.jsx)("div",{className:"addPosts__input",children:Object(B.jsx)("textarea",{ref:t,placeholder:"Tell me your news...",onChange:function(){var n=t.current.value;e.postChange(n)},value:e.newPostText})}),Object(B.jsx)("div",{className:"addPosts__button",children:Object(B.jsx)("div",{onClick:function(){""===e.newPostText.trim()||" "===e.newPostText.trim()?alert("\u041f\u0443\u0441\u0442\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"):e.addPost()},className:"button",children:Object(B.jsx)("div",{className:"button__text",children:"Send"})})})]})},Ct=function(e){var t=s.a.createRef();return Object(B.jsx)("div",{className:"posts__item",children:Object(B.jsxs)("div",{className:"patternPosts",children:[Object(B.jsx)("img",{alt:"userPhoto",className:"patternPosts__photo",src:Te}),Object(B.jsx)("div",{className:"patternPosts__text",children:e.news}),Object(B.jsxs)("div",{ref:t,id:e.id,onClick:function(){var n=Number(t.currentTarget.id);e.addLike(n)},className:"patternPosts__like",children:["like: ",e.like]})]})})},kt=function(e){var t=e.postsData.map((function(t){return Object(B.jsx)(Ct,{news:t.news,like:t.likeCount,id:t.id,addLike:e.addLike},t.id)}));return Object(B.jsx)("div",{className:"addedPosts",children:t})},Et=function(){return Object(B.jsx)("div",{className:"posts__title",children:"My posts"})},At=function(e){return Object(B.jsxs)("div",{className:"posts",children:[Object(B.jsx)(Et,{}),Object(B.jsx)(Dt,{newPostText:e.profilePage.newPostText,postChange:e.postChange,addPost:e.addPost}),Object(B.jsx)(kt,{postsData:e.profilePage.postsData,addLike:e.addLike})]})},Ft=Object(j.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addLike:function(t){e({type:xt,id:t})},addPost:function(){e({type:gt})},postChange:function(t){e(function(e){return{type:mt,postText:e}}(t))}}}))(At),Mt=function(e){return Object(B.jsxs)("div",{className:"content",children:[Object(B.jsx)(Ot,Object(d.a)({},e)),Object(B.jsx)(Ft,{})]})},Tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={userId:e.props.location},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){"undefined"===this.props.router.userId?this.props.getProfile(2):this.props.getProfile(+this.props.router.userId),this.props.setStatus(+this.props.router.userId),this.props.ownerCheckAC(+this.props.router.userId,this.props.ownerID)}},{key:"componentDidUpdate",value:function(e,t,n){e.location!==this.props.location&&(this.props.getProfile(+this.props.router.userId),this.props.setStatus(+this.props.router.userId),this.props.ownerCheckAC(+this.props.router.userId,this.props.ownerID))}},{key:"render",value:function(){return Object(B.jsx)(Mt,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:this.props.isOwner,ownerID:this.props.ownerID,editProfile:this.props.editProfile,uploadProfilePhoto:this.props.uploadProfilePhoto})}}]),n}(s.a.Component),Lt=Object(be.c)(Object(j.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isOwner:e.profilePage.isOwner,ownerID:e.auth.id}}),(function(e){return{getProfile:function(t){e(yt(t))},setStatus:function(t){var n;e((n=t,function(e){g(n).then((function(t){e(St(t))}))}))},updateStatus:function(t){e(function(e){return function(t){x(e).then((function(n){0===n.data.resultCode&&t(St(e))}))}}(t))},ownerCheckAC:function(t,n){e(function(e,t){return{type:vt,urlProfileID:e,ownerID:t}}(t,n))},editProfile:function(t,n){e(function(e,t){return function(n){_(e).then((function(e){0===e.resultCode&&n(yt(t))}))}}(t,n))},uploadProfilePhoto:function(t,n){e(function(e,t){return function(n){var r=new FormData;r.append("image",e),P(r).then((function(e){null!==e.data.photos.large&&n(yt(t))}))}}(t,n))}}})),fe)(Tt),Ut=n(27),Bt=n.n(Ut),Rt=function(e){var t=Object(at.a)(),n=t.register,r=t.handleSubmit,s=t.formState.errors,a=function(){e.toggleError(!1)};return e.isAuth?Object(B.jsx)(J.a,{to:"/profile/".concat(e.id)}):Object(B.jsx)(B.Fragment,{children:e.isFetching?Object(B.jsx)(Ue,{}):Object(B.jsxs)("form",{className:Bt.a.formWrapper,onSubmit:r((function(t){e.login(t)})),children:[Object(B.jsx)("label",{children:"Login"}),Object(B.jsx)("input",Object(d.a)({onClick:a,placeholder:"Login",className:Bt.a.input,defaultValue:""},n("email",{required:!0}))),s.email&&Object(B.jsx)("span",{children:"This field is required"}),Object(B.jsx)("label",{children:"Password"}),Object(B.jsx)("input",Object(d.a)({onClick:a,className:Bt.a.input,placeholder:"Password",type:"password"},n("password",{required:!0}))),s.password&&Object(B.jsx)("span",{children:"This field is required"}),Object(B.jsxs)("div",{className:Bt.a.checkBox,children:[Object(B.jsx)("input",Object(d.a)({type:"checkbox"},n("rememberMe"))),Object(B.jsx)("span",{children:"remember me"})]}),e.authError&&Object(B.jsx)("span",{style:{color:"red"},children:"Email or password is wrong"}),Object(B.jsx)("input",{type:"submit"})]})})},Wt=function(e){return Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:" LOG IN PAGE"}),Object(B.jsx)(Rt,{login:e.login,isFetching:e.isFetching,isAuth:e.isAuth,id:e.id,toggleError:e.toggleError,authError:e.authError})]})},Gt=Object(be.c)(Object(j.b)((function(e){return{authError:e.auth.authError,id:e.auth.id,isFetching:e.auth.isFetching,isAuth:e.auth.isAuth}}),(function(e){return{login:function(t){e(function(e){return function(t){t(A(!0)),w(e).then((function(e){0===e.resultCode?v().then((function(e){var n=e.data,r=n.id,s=n.email,a=n.login;t(T(r,s,a,!0)),t(M(!0)),t(A(!1))})):(t(L(!0)),t(A(!1)))}))}}(t))},toggleError:function(t){e(L(t))}}})))((function(e){return Object(B.jsx)(Wt,Object(d.a)({},e))})),zt="SET_INITIALIZED",Jt={isInitialized:!1},Vt=function(){return function(e){var t=e((function(e){return v().then((function(t){var n=t.data,r=n.id,s=n.email,a=n.login;e(T(r,s,a,!0))}))}));Promise.all([t]).then((function(){e({type:zt})}))}},qt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.checkInitialize()}},{key:"render",value:function(){return Object(B.jsx)(B.Fragment,{children:this.props.isInitialized?Object(B.jsxs)("div",{className:"app-wrapper",children:[Object(B.jsx)(G,{}),Object(B.jsx)(z,{}),Object(B.jsx)("div",{className:"app-wrapper__content",children:Object(B.jsxs)(J.d,{children:[Object(B.jsx)(J.b,{path:"/",element:Object(B.jsx)(ze,{})}),Object(B.jsx)(J.b,{path:"/profile/:userId",element:Object(B.jsx)(Lt,{})}),Object(B.jsx)(J.b,{path:"/messages/*",element:Object(B.jsx)(Oe,{})}),Object(B.jsx)(J.b,{path:"/friends/",element:Object(B.jsx)(ze,{})}),Object(B.jsx)(J.b,{path:"/login/*",element:Object(B.jsx)(Gt,{})})]})}),Object(B.jsx)("div",{className:"footer"})]}):Object(B.jsx)(Ue,{})})}}]),n}(s.a.Component),Kt=Object(be.c)(Object(j.b)((function(e){return{isInitialized:e.app.isInitialized,isAuth:e.auth.isAuth}}),(function(e){return{checkInitialize:function(){e(Vt())}}})))(qt),Yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},Qt=n(53),Xt=Object(be.b)({profilePage:Nt,messagesPage:Y,friendsPage:Me,auth:E,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;return t.type===zt?Object(d.a)(Object(d.a)({},e),{},{isInitialized:!0}):e}}),Ht=Object(be.d)(Xt,Object(be.a)(Qt.a));i.a.render(Object(B.jsx)(U.a,{children:Object(B.jsx)(j.a,{store:Ht,children:Object(B.jsx)(Kt,{})})}),document.getElementById("root")),Yt()}},[[83,1,2]]]);
//# sourceMappingURL=main.ab77e9d7.chunk.js.map