(this.webpackJsonptsreact=this.webpackJsonptsreact||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=(n(76),n(31)),i=n.n(a),o=n(19),c=n(20),u=n(21),l=n(22),d=(n(80),n(2)),p=n(8),j=n(67),h=n.n(j).a.create({withCredentials:!0,headers:{"API-KEY":"8c93655a-bf70-40c8-9c2a-4929b88b2e49"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),f=function(e,t){return h.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},b=function(e){return h.post("follow/".concat(e)).then((function(e){return e.data}))},O=function(e){return h.delete("follow/".concat(e)).then((function(e){return e.data}))},m=function(e){return h.get("profile/".concat(e))},g=function(e){return h.get("profile/status/".concat(e)).then((function(e){return e.data}))},x=function(e){return h.put("profile/status",{status:e})},_=function(e){return h.put("profile",e).then((function(e){return e.data}))},P=function(e){return h.put("/profile/photo",e).then((function(e){return e.data}))},w=function(){return h.get("auth/me").then((function(e){return e.data}))},v=function(e){var t=e.email,n=e.password,r=e.rememberMe,s=e.captcha;return h.post("/auth/login",{email:t,password:n,rememberMe:r,captcha:s}).then((function(e){return e.data}))},N=function(){return h.delete("/auth/login").then((function(e){return e.data}))},y="SET_USER_DATA",S="LOG_OUT",I="IN_PROGRESS",D="RESULT_AUTH",C="TOGGLE_ERROR",k="SET_PROFILE_PHOTO",E={id:null,email:null,login:null,isAuth:!1,isFetching:!1,authError:!1,ownerPhoto:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(d.a)(Object(d.a)(Object(d.a)({},e),t.data),{},{isAuth:void 0!==t.data.id});case S:return{id:null,email:null,login:null,isAuth:!1,isFetching:!1,authError:!1,ownerPhoto:null};case I:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.stateFetching});case D:return Object(d.a)(Object(d.a)({},e),{},{isAuth:t.resultAuth});case C:return Object(d.a)(Object(d.a)({},e),{},{authError:t.stateError});case k:return Object(d.a)(Object(d.a)({},e),{},{ownerPhoto:t.ownerPhoto});default:return e}},F=function(e){return{type:I,stateFetching:e}},T=function(){return{type:S}},L=function(e){return{type:D,resultAuth:e}},M=function(e,t,n){return{type:y,data:{id:e,email:t,login:n}}},U=function(e){return{type:C,stateError:e}},B=function(e){return{type:k,ownerPhoto:e}},R=n(11),W=n.p+"static/media/user.c5d8a3f8.png",G=n(28),H=n.n(G),J=n(122),z=n(121),V=n(120),q=n(124),K=Object(V.a)((function(e){return Object(q.a)({small:{width:e.spacing(3),height:e.spacing(3),marginRight:"10px"},buttonLogout:{background:"#CBD9DB",color:"red",height:"20px",boxShadow:e.shadows[2]},buttonLogin:{background:"#CBD9DB",color:"#1EBBD7",height:"20px",boxShadow:e.shadows[2],textDecoration:"none"}})})),Q=n.p+"static/media/logo.f82d2c67.svg",Y=n(1),X=function(e){var t=K();return Object(Y.jsxs)("header",{className:H.a.header,children:[Object(Y.jsxs)("div",{className:H.a.wrapperLogo,children:[Object(Y.jsx)("img",{className:H.a.logo,src:Q}),Object(Y.jsx)("span",{className:H.a.titleSite,children:"Paper"})]}),Object(Y.jsx)("div",{className:H.a.header__profile,children:e.auth.isAuth?Object(Y.jsxs)("div",{className:H.a.wrapperRightMenu,children:[e.ownerPhoto?Object(Y.jsx)(J.a,{className:t.small,src:e.ownerPhoto}):Object(Y.jsx)(J.a,{className:t.small,src:W}),Object(Y.jsx)("span",{className:H.a.ownerName,children:e.auth.login}),Object(Y.jsx)(z.a,{className:t.buttonLogout,onClick:function(){e.logout()},children:Object(Y.jsx)("span",{className:H.a.linkToLogout,children:"Log out"})})]}):Object(Y.jsx)(z.a,{className:t.buttonLogin,children:Object(Y.jsx)(R.b,{className:H.a.linkToLogin,to:"/login",children:"Login"})})})]})},Z=n(12),$=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.ownerID&&this.props.setOwnerPhoto(this.props.ownerID)}},{key:"componentDidUpdate",value:function(e,t,n){this.props.auth.isAuth&&this.props.auth.isAuth!==e.auth.isAuth&&this.props.setOwnerPhoto(this.props.ownerID)}},{key:"render",value:function(){return Object(Y.jsx)(X,Object(d.a)({},this.props))}}]),n}(s.a.Component),ee=Object(Z.c)(Object(p.b)((function(e){return{auth:e.auth,ownerPhoto:e.auth.ownerPhoto,ownerID:e.auth.id}}),(function(e){return{logout:function(){e((function(e){N().then((function(t){0===t.resultCode&&e(T())}))}))},setOwnerPhoto:function(t){e(function(e){return function(t){m(e).then((function(e){e.data.photos.small&&t(B(e.data.photos.small))}))}}(t))}}})),s.a.memo)($),te=Object(p.b)((function(e){return{userID:e.auth.id}}))((function(e){var t={textDecoration:"none",color:"orange",fontSize:"22px"};return Object(Y.jsx)("nav",{className:"nav",children:Object(Y.jsxs)("ul",{children:[Object(Y.jsx)("li",{className:"nav__elem",children:Object(Y.jsx)(R.c,{to:"/profile/".concat(e.userID),style:function(e){return e.isActive?t:void 0},children:"Profile"})}),Object(Y.jsx)("li",{className:"nav__elem",children:Object(Y.jsx)(R.c,{to:"/messages",style:function(e){return e.isActive?t:void 0},children:"Messages"})}),Object(Y.jsx)("li",{className:"nav__elem",children:Object(Y.jsx)(R.c,{to:"/friends",style:function(e){return e.isActive?t:void 0},children:"Friends"})}),Object(Y.jsx)("li",{className:"nav__elem",children:Object(Y.jsx)(R.c,{to:"/news",style:function(e){return e.isActive?t:void 0},children:"News"})}),Object(Y.jsx)("li",{className:"nav__elem",children:Object(Y.jsx)(R.c,{to:"/music",style:function(e){return e.isActive?t:void 0},children:"Music"})})]})})})),ne=n(3),re=n(5),se="ADD_MESSAGE",ae={messageData:[{id:1,message:"Blabla"},{id:2,message:"Lala"},{id:3,message:"Bruh..."},{id:4,message:"JINGO"},{id:5,message:"JANGO"}],arrayUsers:[{id:1,name:"Ilgiz"},{id:2,name:"Pavel"},{id:3,name:"Alena"},{id:4,name:"Olga"},{id:5,name:"Alexander"}]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return t.type===se?Object(d.a)(Object(d.a)({},e),{},{messageData:[].concat(Object(re.a)(e.messageData),[{id:e.messageData.length+1,message:t.text}])}):e},oe=n(52),ce=n.n(oe),ue=function(e){return Object(Y.jsx)("div",{className:ce.a.user,children:Object(Y.jsx)("div",{className:ce.a.user__name,children:Object(Y.jsx)(R.c,{to:"/messages/"+e.id,className:function(e){e.isActive;return""},children:e.name})})},e.id)},le=n(50),de=n.n(le),pe=function(e){var t=e.arrayUsers?e.arrayUsers.map((function(e){return Object(Y.jsx)(ue,{name:e.name,id:e.id},e.id)})):Object(Y.jsx)(ue,{name:"Test User",id:999});return Object(Y.jsxs)("div",{className:de.a.wrapperUsers,children:[Object(Y.jsx)("div",{className:de.a.title,children:"USERS"}),Object(Y.jsx)("div",{className:de.a.users,children:t})]})},je=n(39),he=n.n(je),fe=function(e){return Object(Y.jsx)("div",{className:he.a.wrapperMessage,children:Object(Y.jsxs)("div",{className:he.a.blockMessage,children:[Object(Y.jsx)("div",{className:he.a.photo}),Object(Y.jsx)("div",{className:he.a.text,children:Object(Y.jsx)("span",{children:e.message})})]})},e.id)},be=function(e){return Object(Y.jsx)(Y.Fragment,{children:e.messageData?e.messageData.map((function(e){return Object(Y.jsx)(fe,{message:e.message,id:e.id},e.id)})):Object(Y.jsx)("span",{children:"You have no messages"})})},Oe=function(){return Object(Y.jsx)(Y.Fragment,{})},me=n(53),ge=n.n(me),xe=function(e){return Object(Y.jsxs)("div",{className:ge.a.wrapperDialog,children:[Object(Y.jsx)("h3",{className:ge.a.title,children:"MESSAGES"}),Object(Y.jsx)(be,{messageData:e.messageData}),Object(Y.jsx)(Oe,{})]})},_e=n(54),Pe=n.n(_e),we=function(e){return Object(Y.jsxs)("div",{className:Pe.a.wrapperMessages,children:[Object(Y.jsx)(pe,{arrayUsers:e.messagesPage.arrayUsers}),Object(Y.jsx)("div",{className:Pe.a.messages,children:Object(Y.jsx)(xe,{messageData:e.messagesPage.messageData,addMessage:e.addMessage})})]})},ve=n(47),Ne=["isAuth"];function ye(e){return Object(p.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var n=Object(ne.f)(),r=Object(ne.h)(),s=t.isAuth,a=Object(ve.a)(t,Ne);return s?Object(Y.jsx)(e,Object(d.a)(Object(d.a)({},a),{},{location:n,router:r})):Object(Y.jsx)(ne.a,{to:"/login"})}))}var Se=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(Y.jsx)(we,Object(d.a)({},this.props))}}]),n}(s.a.Component),Ie=Object(Z.c)(Object(p.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{addMessage:function(t){e(function(e){return{type:se,text:e}}(t))}}})),ye)(Se),De=function(){return Object(Y.jsx)("div",{className:"myFriends__title",children:"FIND FRIENDS"})},Ce=function(){return Object(Y.jsx)("div",{className:"myFriends__filter"})},ke="FOLLOW",Ee="UNFOLLOW",Ae="SET_USERS",Fe="SET_CURRENT_PAGE",Te="SET_TOTAL_USERS",Le="TOGGLE_PRELOADER",Me="TOGGLE_FOLLOWING",Ue={users:[],totalUsers:0,pageSize:10,currentPage:1,isPreloader:!1,isFollowing:[]},Be=function(e){return{type:Me,id:e}},Re=function(e){return{type:Le,isPreloader:e}},We=function(e){return{type:Te,totalUsers:e}},Ge=function(e){return{type:Fe,newCurrent:e}},He=function(e){return{type:ke,id:e}},Je=function(e){return{type:Ee,id:e}},ze=function(e){return{type:Ae,array:e}},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):Object(d.a)({},e)}))});case Ee:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):Object(d.a)({},e)}))});case Ae:return Object(d.a)(Object(d.a)({},e),{},{users:Object(re.a)(t.array)});case Fe:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.newCurrent});case Te:return Object(d.a)(Object(d.a)({},e),{},{totalUsers:t.totalUsers});case Le:return Object(d.a)(Object(d.a)({},e),{},{isPreloader:t.isPreloader});case Me:return Object(d.a)(Object(d.a)({},e),{},{isFollowing:e.isPreloader?[].concat(Object(re.a)(e.isFollowing),[t.id]):Object(re.a)(e.isFollowing.filter((function(e){return e!==t.id})))});default:return e}},qe=function(e){var t=e.isFollowing.some((function(t){return t===e.user.id}));return Object(Y.jsxs)("div",{className:"blockFriend",children:[Object(Y.jsx)(R.c,{to:"/profile/".concat(e.user.id),children:Object(Y.jsx)("div",{className:"blockFriend__photo",children:Object(Y.jsx)("img",{alt:"userPhoto",src:null!==e.user.photos.small?e.user.photos.small:W})})}),Object(Y.jsxs)("div",{className:"blockFriend__description",children:[Object(Y.jsxs)("div",{className:"description__name",children:[e.user.name," "]}),Object(Y.jsx)("div",{className:"description__stat",children:e.user.status}),Object(Y.jsx)("div",{className:"description__country",children:"Country"}),Object(Y.jsx)("div",{className:"description__city",children:"City"})]}),Object(Y.jsx)("div",{className:"blockFriend__button",children:e.user.followed?Object(Y.jsx)("div",{className:"buttonAdd",children:Object(Y.jsx)("button",{onClick:function(){e.unfollow(e.user.id)},disabled:t,children:"UNFOLLOW"})}):Object(Y.jsx)("div",{className:"buttonAdd",children:Object(Y.jsx)("button",{onClick:function(){e.follow(e.user.id)},disabled:t,children:"FOLLOW"})})})]})},Ke=function(){return Object(Y.jsx)("div",{className:"preloader",children:Object(Y.jsx)("div",{className:"preloader__text",children:"LOADING"})})},Qe=function(e){return Object(Y.jsx)(Y.Fragment,{children:e.arrayCount.filter((function(t){return t+2>=e.currentPage&&t-2<=e.currentPage||(1===t||t===e.pagesCount)})).map((function(t,n){return e.currentPage>=4&&(t!==e.currentPage-2&&t!==e.currentPage+2||t!==e.pagesCount&&(t=0)),Object(Y.jsx)("div",{children:0===t?Object(Y.jsx)("span",{children:"...."}):Object(Y.jsx)("span",{className:e.currentPage===t?"activePage":"disabledPage",onClick:function(){e.onCurrentPage(t)},children:t},n)},n)}))})},Ye=function(e){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsxs)("div",{className:"myFriends__list",children:[e.friendsPage.isPreloader?Object(Y.jsx)(Ke,{}):void 0,Object(Y.jsx)("div",{className:"pages",children:Object(Y.jsx)(Qe,{currentPage:e.currentPage,arrayCount:e.arrayCount,pagesCount:e.pagesCount,onCurrentPage:e.onCurrentPage})}),e.friendsPage.users.map((function(t){return Object(Y.jsx)(qe,{user:t,follow:e.follow,unfollow:e.unfollow,isFollowing:e.friendsPage.isFollowing,isPreloader:e.friendsPage.isPreloader},t.id)}))]})})},Xe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onCurrentPage=function(t){e.props.changePage(t,e.props.friendsPage.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.friendsPage.currentPage,this.props.friendsPage.pageSize)}},{key:"render",value:function(){for(var e=Math.ceil(this.props.friendsPage.totalUsers/this.props.friendsPage.pageSize),t=[],n=1;n<=e;n++)t.push(n);return Object(Y.jsx)(Ye,Object(d.a)(Object(d.a)({arrayCount:t,pagesCount:e,onCurrentPage:this.onCurrentPage},this.props),{},{currentPage:this.props.friendsPage.currentPage}))}}]),n}(s.a.Component),Ze=Object(Z.c)(Object(p.b)((function(e){return{friendsPage:e.friendsPage}}),(function(e){return{getUsers:function(t,n){e(function(e,t){return function(n){n(Re(!0)),f(e,t).then((function(e){n(ze(e.items)),n(We(e.totalCount)),n(Re(!1))}))}}(t,n))},changePage:function(t,n){e(function(e,t){return function(n){n(Ge(e)),n(Re(!0)),f(e,t).then((function(e){n(ze(e.items)),n(Re(!1))}))}}(t,n))},follow:function(t){e(function(e){return function(t){t(Re(!0)),t(Be(e)),b(e).then((function(n){0===n.resultCode&&t(He(e)),t(Re(!1)),t(Be(e))}))}}(t))},unfollow:function(t){e(function(e){return function(t){t(Re(!0)),t(Be(e)),O(e).then((function(n){0===n.resultCode&&t(Je(e)),t(Re(!1)),t(Be(e))}))}}(t))}}})))(Xe),$e=function(){return Object(Y.jsxs)("div",{className:"myFriends",children:[Object(Y.jsx)(De,{}),Object(Y.jsx)(Ze,{}),Object(Y.jsx)(Ce,{})]})},et=n(40),tt=n.n(et),nt=function(e){return Object(Y.jsxs)("div",{className:tt.a.wrapperPhoto,children:[Object(Y.jsx)("img",{alt:"userPhoto",src:null===e.photos.large?W:e.photos.large}),e.isOwner&&Object(Y.jsxs)("div",{className:tt.a.wrapperInputPhoto,children:[Object(Y.jsx)("label",{className:tt.a.uploadPhotoText,children:"Upload photo"}),Object(Y.jsx)("input",{className:tt.a.inputProfilePhoto,title:"Upload profile photo",type:"file",onChange:function(t){e.uploadProfilePhoto(t.currentTarget.files[0],e.ownerId)},name:"profilePhoto"})]})]})},rt=n(7),st=n(41),at=n.n(st),it=function(e){return Object(Y.jsxs)("div",{className:at.a.wrapperStatus,children:[Object(Y.jsx)("span",{className:at.a.title,children:"Status:"}),e.status?Object(Y.jsx)("span",{className:at.a.statusText,onClick:e.activateEditMode,children:e.status}):Object(Y.jsx)("span",{className:at.a.statusText,onClick:e.activateEditMode,style:{color:"gray"},children:e.isOwner?"write u status":"user did not write status..."})]})},ot=function(e){return Object(Y.jsx)("div",{children:Object(Y.jsx)("input",{onChange:e.onChangeStatus,value:e.localStatus,autoFocus:!0,onBlur:e.deactivateEditMode,placeholder:e.status?e.status:"Write your status",defaultValue:e.status})})},ct=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,status:e.props.status?e.props.status:""},e.activateEditMode=function(){e.props.isOwner&&e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onChangeStatus=function(t){e.setState({status:t.currentTarget.value})},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.props.status!==e.status&&this.setState({status:this.props.status?this.props.status:""})}},{key:"render",value:function(){return Object(Y.jsx)(Y.Fragment,{children:this.state.editMode?Object(Y.jsx)(ot,{localStatus:this.state.status,onChangeStatus:this.onChangeStatus,deactivateEditMode:this.deactivateEditMode,status:this.props.status}):Object(Y.jsx)(it,{status:this.props.status,activateEditMode:this.activateEditMode,isOwner:this.props.isOwner})})}}]),n}(s.a.Component),ut=ct,lt=n(16),dt=n.n(lt),pt=function(e){var t=Object.entries(e.profile.contacts).map((function(e,t){return Object(Y.jsxs)("div",{className:dt.a.itemContacts,children:[Object(Y.jsxs)("span",{className:dt.a.titleItem,children:[e[0],":"]}),e[1]?Object(Y.jsx)("a",{href:e[1],className:dt.a.descriptionItem,children:e[1]}):Object(Y.jsx)("span",{className:dt.a.descriptionItem,children:"-"})]},t)}));return Object(Y.jsxs)("div",{className:dt.a.wrapperFullInfo,children:[Object(Y.jsxs)("div",{className:dt.a.itemProfileInfo,children:[Object(Y.jsx)("span",{className:dt.a.titleItem,children:"Full name:"}),Object(Y.jsx)("span",{className:dt.a.descriptionItem,children:e.profile.fullName})]}),Object(Y.jsxs)("div",{className:dt.a.itemProfileInfo,children:[Object(Y.jsx)("span",{className:dt.a.titleItem,children:"Looking for a job:"}),Object(Y.jsx)("span",{className:dt.a.descriptionItem,children:e.profile.lookingForAJob?"Yes":"No"})]}),Object(Y.jsxs)("div",{className:dt.a.itemProfileInfo,children:[Object(Y.jsx)("span",{className:dt.a.titleItem,children:"Contacts:"}),t]})]})},jt=n(26),ht=n.n(jt),ft=n(49),bt=n(55),Ot=n.n(bt),mt=function(e){var t=Object.entries(e.contacts).map((function(t){var n=Object(rt.a)(t,2),r=n[0],s=n[1],a=r="contacts."+r,i=r.split("."),o=Object(rt.a)(i,2),c=(o[0],o[1]);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("label",{children:c}),Object(Y.jsx)("input",Object(d.a)({defaultValue:s||""},e.register(a)))]})}));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("label",{children:"Contacts:"}),t]})},gt=function(e){var t=Object(ft.a)(),n=t.register,s=t.handleSubmit,a=(t.watch,t.formState.errors,Object(r.useState)(e.profile.lookingForAJob)),i=Object(rt.a)(a,2),o=i[0],c=i[1];return Object(Y.jsxs)("form",{className:Ot.a.wrapperEditProfile,onSubmit:s((function(t){console.log(t),t.userId=e.ownerID,e.editProfile(t,t.userId),e.toggleEditMode()})),children:[Object(Y.jsx)("label",{children:"FullName:"}),Object(Y.jsx)("input",Object(d.a)({type:"text",defaultValue:e.profile.fullName},n("fullName",{required:!0}))),Object(Y.jsx)("label",{children:"About me:"}),Object(Y.jsx)("textarea",Object(d.a)({defaultValue:e.profile.aboutMe?e.profile.aboutMe:""},n("aboutMe",{required:!0}))),Object(Y.jsxs)("div",{className:Ot.a.wrapperInputCheckBox,onClick:function(){c(!o)},children:[Object(Y.jsx)("label",{children:"JOB"}),Object(Y.jsx)("input",Object(d.a)({type:"checkbox",checked:o},n("lookingForAJob")))]}),Object(Y.jsx)("input",Object(d.a)({defaultValue:e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:""},n("lookingForAJobDescription",{required:!0}))),Object(Y.jsx)(mt,{contacts:e.profile.contacts,register:n}),Object(Y.jsx)("input",{type:"submit"})]})},xt=n(34),_t=n.n(xt),Pt=["red","className","textButton","onClick"],wt=function(e){var t=e.red,n=e.className,r=e.textButton,s=e.onClick,a=Object(ve.a)(e,Pt),i="".concat(n," ").concat(t?a.disabled?_t.a.redDis:_t.a.red:a.disabled?_t.a.wrapperButtonDis:_t.a.wrapperButton," "),o="".concat(a.disabled?_t.a.defaultDis:_t.a.default," ").concat(r);return Object(Y.jsx)("div",{className:i,onClick:function(e){s&&s(e)},children:Object(Y.jsx)("button",Object(d.a)({className:o},a))})},vt=function(e){var t=Object(r.useState)(!1),n=Object(rt.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(!1),o=Object(rt.a)(i,2),c=o[0],u=o[1],l=function(){u(!c)},d=e.profile.fullName.split(" ").map((function(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")})).join(" ");return Object(Y.jsxs)("div",{className:ht.a.wrapperDescription,children:[Object(Y.jsxs)("div",{className:ht.a.headerDescription,children:[Object(Y.jsx)("span",{className:ht.a.profileName,children:d}),e.isOwner&&Object(Y.jsx)("span",{onClick:l,className:ht.a.profileEdit,children:"Edit profile"})]}),c?Object(Y.jsx)(gt,{toggleEditMode:l,profile:e.profile,ownerID:e.ownerID,editProfile:e.editProfile}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(ut,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner}),Object(Y.jsxs)("div",{className:ht.a.itemProfileInfo,children:[Object(Y.jsx)("span",{className:ht.a.titleItem,children:"About me:"}),Object(Y.jsx)("span",{className:ht.a.descriptionItem,children:e.profile.aboutMe?e.profile.aboutMe:"-"})]}),Object(Y.jsxs)("div",{className:ht.a.itemProfileInfo,children:[Object(Y.jsx)("span",{className:ht.a.titleItem,children:"Looking for a job:"}),Object(Y.jsx)("span",{className:ht.a.descriptionItem,children:e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:"-"})]}),s&&Object(Y.jsx)(pt,{profile:e.profile}),Object(Y.jsx)(wt,{onClick:function(){a(!s)},children:"More info"})]})]})},Nt=n(70),yt=n.n(Nt),St=function(e){return null!==e.profile?Object(Y.jsxs)("div",{className:yt.a.wrapperProfile,children:[Object(Y.jsx)(nt,{photos:e.profile.photos,ownerId:e.ownerID,uploadProfilePhoto:e.uploadProfilePhoto,isOwner:e.isOwner}),Object(Y.jsx)(vt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,ownerID:e.ownerID,editProfile:e.editProfile})]}):Object(Y.jsx)(Ke,{})},It="UPDATE-POST-TEXT",Dt="ADD-POST",Ct="ADD-LIKE",kt="SET-PROFILE",Et="SET-STATUS",At="OWNER_CHECK",Ft={postsData:[{id:1,news:"the weather in St. Petersburg is suitable for studying",likeCount:99},{id:2,news:"tear and sword c:",likeCount:2},{id:3,news:"this is my first project on a react!",likeCount:8}],newPostText:"",profile:null,status:"",isOwner:!1},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return Object(d.a)(Object(d.a)({},e),{},{postsData:[].concat(Object(re.a)(e.postsData),[{id:e.postsData.length+1,news:e.newPostText,likeCount:0}]),newPostText:""});case It:return Object(d.a)(Object(d.a)({},e),{},{newPostText:t.postText});case Ct:var n=e.postsData.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),{},{likeCount:e.likeCount+1}):e}));return Object(d.a)(Object(d.a)({},e),{},{postsData:n});case kt:return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case Et:return Object(d.a)(Object(d.a)({},e),{},{status:t.textStatus});case At:return Object(d.a)(Object(d.a)({},e),{},{isOwner:t.ownerID===t.urlProfileID});default:return e}},Lt=function(e){return function(t){m(e).then((function(e){t(Ut(e.data))}))}},Mt=function(e){return{type:Et,textStatus:e}},Ut=function(e){return{type:kt,profile:e}},Bt=function(e){var t=s.a.createRef();return Object(Y.jsxs)("div",{className:"addPosts",children:[Object(Y.jsx)("div",{className:"addPosts__input",children:Object(Y.jsx)("textarea",{ref:t,placeholder:"Tell me your news...",onChange:function(){var n=t.current.value;e.postChange(n)},value:e.newPostText})}),Object(Y.jsx)("div",{className:"addPosts__button",children:Object(Y.jsx)("div",{onClick:function(){""===e.newPostText.trim()||" "===e.newPostText.trim()?alert("\u041f\u0443\u0441\u0442\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"):e.addPost()},className:"button",children:Object(Y.jsx)("div",{className:"button__text",children:"Send"})})})]})},Rt=function(e){var t=s.a.createRef();return Object(Y.jsx)("div",{className:"posts__item",children:Object(Y.jsxs)("div",{className:"patternPosts",children:[Object(Y.jsx)("img",{alt:"userPhoto",className:"patternPosts__photo",src:W}),Object(Y.jsx)("div",{className:"patternPosts__text",children:e.news}),Object(Y.jsxs)("div",{ref:t,id:e.id,onClick:function(){var n=Number(t.currentTarget.id);e.addLike(n)},className:"patternPosts__like",children:["like: ",e.like]})]})})},Wt=function(e){var t=e.postsData.map((function(t){return Object(Y.jsx)(Rt,{news:t.news,like:t.likeCount,id:t.id,addLike:e.addLike},t.id)}));return Object(Y.jsx)("div",{className:"addedPosts",children:t})},Gt=function(){return Object(Y.jsx)("div",{className:"posts__title",children:"My posts"})},Ht=function(e){return Object(Y.jsxs)("div",{className:"posts",children:[Object(Y.jsx)(Gt,{}),Object(Y.jsx)(Bt,{newPostText:e.profilePage.newPostText,postChange:e.postChange,addPost:e.addPost}),Object(Y.jsx)(Wt,{postsData:e.profilePage.postsData,addLike:e.addLike})]})},Jt=Object(p.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addLike:function(t){e({type:Ct,id:t})},addPost:function(){e({type:Dt})},postChange:function(t){e(function(e){return{type:It,postText:e}}(t))}}}))(Ht),zt=function(e){return Object(Y.jsxs)("div",{className:"content",children:[Object(Y.jsx)(St,Object(d.a)({},e)),Object(Y.jsx)(Jt,{})]})},Vt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={userId:e.props.location},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getProfile(+this.props.router.userId),this.props.setStatus(+this.props.router.userId),this.props.ownerCheckAC(+this.props.router.userId,this.props.ownerID)}},{key:"componentDidUpdate",value:function(e,t,n){e.location!==this.props.location&&(this.props.getProfile(+this.props.router.userId),this.props.setStatus(+this.props.router.userId),this.props.ownerCheckAC(+this.props.router.userId,this.props.ownerID))}},{key:"render",value:function(){return Object(Y.jsx)(zt,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:this.props.isOwner,ownerID:this.props.ownerID,editProfile:this.props.editProfile,uploadProfilePhoto:this.props.uploadProfilePhoto})}}]),n}(s.a.Component),qt=Object(Z.c)(Object(p.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isOwner:e.profilePage.isOwner,ownerID:e.auth.id}}),(function(e){return{getProfile:function(t){e(Lt(t))},setStatus:function(t){var n;e((n=t,function(e){g(n).then((function(t){e(Mt(t))}))}))},updateStatus:function(t){e(function(e){return function(t){x(e).then((function(n){0===n.data.resultCode&&t(Mt(e))}))}}(t))},ownerCheckAC:function(t,n){e(function(e,t){return{type:At,urlProfileID:e,ownerID:t}}(t,n))},editProfile:function(t,n){e(function(e,t){return function(n){_(e).then((function(e){0===e.resultCode&&n(Lt(t))}))}}(t,n))},uploadProfilePhoto:function(t,n){e(function(e,t){return function(n){var r=new FormData;r.append("image",e),P(r).then((function(e){null!==e.data.photos.large&&n(Lt(t))}))}}(t,n))}}})),ye)(Vt),Kt=n(42),Qt=n.n(Kt),Yt=function(e){var t=Object(ft.a)(),n=t.register,r=t.handleSubmit,s=t.formState.errors,a=function(){e.toggleError(!1)};return e.isAuth?Object(Y.jsx)(ne.a,{to:"/profile/".concat(e.id)}):Object(Y.jsx)(Y.Fragment,{children:e.isFetching?Object(Y.jsx)(Ke,{}):Object(Y.jsxs)("form",{className:Qt.a.formWrapper,onSubmit:r((function(t){e.login(t)})),children:[Object(Y.jsx)("label",{children:"Login"}),Object(Y.jsx)("input",Object(d.a)({onClick:a,placeholder:"Login",className:Qt.a.input,defaultValue:""},n("email",{required:!0}))),s.email&&Object(Y.jsx)("span",{children:"This field is required"}),Object(Y.jsx)("label",{children:"Password"}),Object(Y.jsx)("input",Object(d.a)({onClick:a,className:Qt.a.input,placeholder:"Password",type:"password"},n("password",{required:!0}))),s.password&&Object(Y.jsx)("span",{children:"This field is required"}),Object(Y.jsxs)("div",{className:Qt.a.checkBox,children:[Object(Y.jsx)("input",Object(d.a)({type:"checkbox"},n("rememberMe"))),Object(Y.jsx)("span",{children:"remember me"})]}),e.authError&&Object(Y.jsx)("span",{style:{color:"red"},children:"Email or password is wrong"}),Object(Y.jsx)("input",{type:"submit"})]})})},Xt=function(e){return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h1",{children:" LOG IN PAGE"}),Object(Y.jsx)(Yt,{login:e.login,isFetching:e.isFetching,isAuth:e.isAuth,id:e.id,toggleError:e.toggleError,authError:e.authError})]})},Zt=Object(Z.c)(Object(p.b)((function(e){return{authError:e.auth.authError,id:e.auth.id,isFetching:e.auth.isFetching,isAuth:e.auth.isAuth}}),(function(e){return{login:function(t){e(function(e){return function(t){t(F(!0)),v(e).then((function(e){0===e.resultCode?w().then((function(e){var n=e.data,r=n.id,s=n.email,a=n.login;t(M(r,s,a)),t(L(!0)),t(F(!1))})):(t(U(!0)),t(F(!1)))}))}}(t))},toggleError:function(t){e(U(t))}}})))((function(e){return Object(Y.jsx)(Xt,Object(d.a)({},e))})),$t="SET_INITIALIZED",en={isInitialized:!1},tn=function(){return function(e){var t=e((function(e){return w().then((function(t){var n=t.data,r=n.id,s=n.email,a=n.login;e(M(r,s,a))}))}));Promise.all([t]).then((function(){e({type:$t})}))}},nn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.checkInitialize()}},{key:"render",value:function(){return Object(Y.jsx)(Y.Fragment,{children:this.props.isInitialized?Object(Y.jsxs)("div",{className:"app-wrapper",children:[Object(Y.jsx)(ee,{}),Object(Y.jsx)(te,{}),Object(Y.jsx)("div",{className:"app-wrapper__content",children:Object(Y.jsxs)(ne.d,{children:[Object(Y.jsx)(ne.b,{path:"/",element:Object(Y.jsx)($e,{})}),Object(Y.jsx)(ne.b,{path:"/profile/:userId",element:Object(Y.jsx)(qt,{})}),Object(Y.jsx)(ne.b,{path:"/messages/*",element:Object(Y.jsx)(Ie,{})}),Object(Y.jsx)(ne.b,{path:"/friends/",element:Object(Y.jsx)($e,{})}),Object(Y.jsx)(ne.b,{path:"/login/*",element:Object(Y.jsx)(Zt,{})})]})}),Object(Y.jsx)("div",{className:"footer"})]}):Object(Y.jsx)(Ke,{})})}}]),n}(s.a.Component),rn=Object(Z.c)(Object(p.b)((function(e){return{isInitialized:e.app.isInitialized,isAuth:e.auth.isAuth}}),(function(e){return{checkInitialize:function(){e(tn())}}})))(nn),sn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},an=n(71),on=Object(Z.b)({profilePage:Tt,messagesPage:ie,friendsPage:Ve,auth:A,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;return t.type===$t?Object(d.a)(Object(d.a)({},e),{},{isInitialized:!0}):e}}),cn=Object(Z.d)(on,Object(Z.a)(an.a));i.a.render(Object(Y.jsx)(R.a,{children:Object(Y.jsx)(p.a,{store:cn,children:Object(Y.jsx)(rn,{})})}),document.getElementById("root")),sn()},16:function(e,t,n){e.exports={itemProfileInfo:"FullInfo_itemProfileInfo__iDiQY",itemContacts:"FullInfo_itemContacts__3A_7-",titleItem:"FullInfo_titleItem__1ecLP",descriptionItem:"FullInfo_descriptionItem__10p8D"}},26:function(e,t,n){e.exports={wrapperDescription:"ProfileDescription_wrapperDescription__23tkb",headerDescription:"ProfileDescription_headerDescription__9vd5d",titleItem:"ProfileDescription_titleItem__V02oQ",descriptionItem:"ProfileDescription_descriptionItem__32k1h",itemProfileInfo:"ProfileDescription_itemProfileInfo__2u4A_",profileName:"ProfileDescription_profileName__1W-Jh",profileEdit:"ProfileDescription_profileEdit__3Q5V5"}},28:function(e,t,n){e.exports={headerPhoto:"HeaderStyle_headerPhoto__OLZoS",wrapperRightMenu:"HeaderStyle_wrapperRightMenu__C3c80",header:"HeaderStyle_header__313nh",header__profile:"HeaderStyle_header__profile__1ViAM",wrapperLogo:"HeaderStyle_wrapperLogo__thwRH",titleSite:"HeaderStyle_titleSite__3v7EX",logo:"HeaderStyle_logo__1rrDm",ownerName:"HeaderStyle_ownerName__2hwTf",linkToLogin:"HeaderStyle_linkToLogin__23fqP",linkToLogout:"HeaderStyle_linkToLogout__4MLxb"}},34:function(e,t,n){e.exports={wrapperButton:"SuperButton_wrapperButton__2XkQO",wrapperButtonDis:"SuperButton_wrapperButtonDis__3IoVD",defaultDis:"SuperButton_defaultDis__3l6dG",default:"SuperButton_default__1hS5q",red:"SuperButton_red__1VLuR",redDis:"SuperButton_redDis__1PhjZ"}},39:function(e,t,n){e.exports={wrapperMessage:"MessageItemStyle_wrapperMessage__25A9n",blockMessage:"MessageItemStyle_blockMessage__3Tna4",photo:"MessageItemStyle_photo__16Dg4",text:"MessageItemStyle_text__3R7PN"}},40:function(e,t,n){e.exports={wrapperPhoto:"ProfilePhoto_wrapperPhoto__2CPyT",inputProfilePhoto:"ProfilePhoto_inputProfilePhoto__2SQR9",uploadPhotoText:"ProfilePhoto_uploadPhotoText__2R5Ca",wrapperInputPhoto:"ProfilePhoto_wrapperInputPhoto__2UN70"}},41:function(e,t,n){e.exports={wrapperStatus:"StatusWithoutEdit_wrapperStatus__2YIXj",title:"StatusWithoutEdit_title__3B7yN",statusText:"StatusWithoutEdit_statusText__2shI-"}},42:function(e,t,n){e.exports={formWrapper:"LoginStyle_formWrapper__13AH0",buttonWrapper:"LoginStyle_buttonWrapper__1EWY2",input:"LoginStyle_input__K-U5D",checkBox:"LoginStyle_checkBox__1CtRh"}},50:function(e,t,n){e.exports={wrapperUsers:"Users_wrapperUsers__oZrBs",title:"Users_title__1RV_b",users:"Users_users__3zNVW"}},52:function(e,t,n){e.exports={user:"UserItemStyle_user__3M2gP",user__name:"UserItemStyle_user__name__1rOxP"}},53:function(e,t,n){e.exports={wrapperDialog:"DialogStyle_wrapperDialog__3xWtl",title:"DialogStyle_title__nAKJ9"}},54:function(e,t,n){e.exports={wrapperMessages:"MessagesStyle_wrapperMessages__169uu",messages:"MessagesStyle_messages__11fjk"}},55:function(e,t,n){e.exports={wrapperEditProfile:"EditProfuleForm_wrapperEditProfile__n-Kf-",wrapperInputCheckBox:"EditProfuleForm_wrapperInputCheckBox__387FQ"}},70:function(e,t,n){e.exports={wrapperProfile:"ProfileInfo_wrapperProfile__2XwnK"}},76:function(e,t,n){},80:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.c82b6064.chunk.js.map